<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[WSO2Brasil]]></title>
  <link href="http://wso2brasil.com.br/atom.xml" rel="self"/>
  <link href="http://wso2brasil.com.br/"/>
  <updated>2013-09-17T10:03:28-03:00</updated>
  <id>http://wso2brasil.com.br/</id>
  <author>
    <name><![CDATA[WSO2Brasil]]></name>
    <email><![CDATA[leonardo@wso2brasil.com.br]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
    <title type="html"><![CDATA[8º SoLiSC - Nos vemos lá]]></title>
    <link href="http://mcorp.com.br/2013/09/8o-solisc-nos-vemos-la/"/>
    
    <updated>2013-09-16T10:29:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2013/09/8o-solisc-nos-vemos-la</id>
    <content type="html"><![CDATA[<p><a href="http://www.solisc.org.br/"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/09/8solisc.png" width="600" height="211"></a></p>

<p>Agora, nos dias 20 e 21 de setembro de 2013 ocorrerá o 8º SoLiSC - Congresso Catarinense de Software Livre, em Florianópolis! Eu fui nas duas primeiras edições, quando ainda eram em Joinville, mas após a mudança para a capital do estado de Santa Catarina, nunca mais tive a oportunidade de participar.</p>

<p>Mas esse ano estarei lá, não só para acompanhar as diversas palestras com trilhas sobre desenvolvimento, software livre, distribuições, infraestrutura e as oficinas. Mas também para palestrar sobre SOA e WSO2.</p>

<p>A <a href="http://solisc.org.br/grade.htm">grade</a> mostra que as opções são muitas e com muitas palestras interessantes (curioso para ver as palestras sobre arduíno) e também algumas oficinas!</p>

<p>As <a href="https://eventioz.com.br/e/8-solisc-congresso-catarinense-de-software-livre/">inscrições</a> se encerram amanhã, então #CORRÃO!</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Lançado: WSO2 User Engagement Server - 1.0.0!]]></title>
    <link href="http://mcorp.com.br/2013/07/lancado-wso2-user-engagement-server-1-0-0"/>
    
    <updated>2013-07-12T10:58:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2013/07/lancado-wso2-user-engagement-server-1-0-0</id>
    <content type="html"><![CDATA[<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-main.png"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-main-600x311.png" width="600" height="311"></a></p>

<p>O WSO2 User Engagement Server (UES) libera os dados de inteligência de negócios da sua empresa, monitoramento e outros requisitos empresariais. Não apenas para desenvolvedores, mas para usuários da área de negócios, o WSO2 UES ajuda a criar componentes web rapidamente e com visual atrativo, como: dashboard, microsite e gadgets. O UES provê capacidades &#8220;fora da caixinha&#8221;, expor seus dados na tela nunca foi tão fácil.</p>

<p>O WSO2 UES inclui um editor Jaggery.js embutido, navegador e uma maneira gráfica de compor seus dashboards. Totalmente integrado com a sua loja (<strong>nota de tradução:</strong> &#8220;loja&#8221; para eles não é seu e-commerce, é o <em>store</em> de gadgets, microsites e afins da sua empresa) de Open Social Gadgets e Microsites, usuários podem montar dashoards, microsites ou gadgets com fonte de dados de terceiros e podem compartilhar entre os usuários, autenticados ou anônimos, da sua empresa.</p>

<p>Aproveite a qualidade de recursos da premiada plataforma WSO2 Carbon e a flexibilidade do Jaggery.js para escrever código-fonte server-side sem compilação, com o WSO2 User Engagement Server.</p>

<h2>Algumas telas</h2>

<p style="text-align: center">
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-dashboard.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-dashboard-80x60.png" width="80" height="60" /></a>
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-jaggery-ide-governance.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-jaggery-ide-governance-80x60.png" width="80" height="60" /></a>
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-jaggery-ide-menu.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-jaggery-ide-menu-80x60.png" width="80" height="60" /></a>
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-jaggery-ide-source.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-jaggery-ide-source-80x60.png" width="80" height="60" /></a>
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-microsite.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-microsite-80x60.png" width="80" height="60" /></a>
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-publish-settings.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-publish-settings-80x60.png" width="80" height="60" /></a>
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-store.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/wso2-ues-store-80x60.png" width="80" height="60" /></a>
</p>


<h2>Recursos</h2>

<ul>
<li>Criação visual de Dashboards

<ul>
<li>Editor gráfico de dashboard</li>
<li>Adicione os gadgets da loja da sua empresa</li>
<li>Use o layout padrão ou crie o seu</li>
<li>Aplicação de temas customizados</li>
<li>Aplicação de segurança baseada em usuários ou perfis</li>
<li>Out-of-the-box Single-Sign-On (SSO)</li>
</ul>
</li>
<li>Criação de Microsites

<ul>
<li>Desenvolvimento com Jaggery.js, HTML, CSS e JavaScript</li>
<li>Com autenticação via básica ou form</li>
<li>Out-of-the-box Single-Sign-On (SSO)</li>
</ul>
</li>
<li>Publicação de Dashboard, Microsite e Gadgets

<ul>
<li>Publique e compartilhe dashboards, microsites e gadgets usando a loja da empresa</li>
<li>Acesso para compartilhamento contorlado</li>
<li>Adicione tags e outras meta-informações como thumbnails e banners</li>
</ul>
</li>
<li>Descoberta de componentes web

<ul>
<li>Integrado com a loja da empresa</li>
<li>Suporte a recursos sociais como votação e comentários</li>
<li>Alta capcidade de busca baseada nas tags, títulos e conteúdo</li>
<li>Favoritos para componentes web</li>
<li>Pequenos trechos de código para embutir</li>
</ul>
</li>
<li>Jaggery.js Web IDE

<ul>
<li>Editor de código completo</li>
<li><em>Auto-complete</em> Jaggery.js, HTML e JavaScript</li>
<li>Salvamento automático e recuperação em caso de erros</li>
<li>Formatação de código</li>
<li>Adicione trechos de html</li>
<li>Adicione gadgets da loja da sua empresa</li>
<li>Use bibliotecas externas</li>
<li>Múltiplas abas</li>
<li>Governança dos componentes web</li>
<li>Navegador de arquivos baseado na web</li>
<li>Crie, altere, apague, copie, cole e recorte arquivos e diretórios</li>
<li>Visualize as informações de arquivos e diretórios</li>
<li>Edite, selecione e publique dashboards e microsites</li>
</ul>
</li>
</ul>


<h2>Outras informações</h2>

<ul>
<li><a href="http://wso2.com/products/user-engagement-server">Download</a></li>
<li><a href="http://docs.wso2.org/wiki/display/UES100/WSO2+User+Engagement+Server+1.0.0+Documentation">Documentação</a></li>
<li><a href="https://wso2.org/jira/browse/UES-257?filter=11174">Issues</a></li>
<li><a href="https://github.com/wso2/ues">Código-fonte</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Nós no FISL14]]></title>
    <link href="http://mcorp.com.br/2013/07/nos-no-fisl-14"/>
    
    <updated>2013-07-09T15:35:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2013/07/nos-no-fisl-14</id>
    <content type="html"><![CDATA[<p>Como dito anteriormente, fomos ao <a href="http://softwarelivre.org/fisl14">FISL 14</a>! Temos que admitir uma &#8220;vergonha&#8221;: apesar de ser um evento muito famoso e referência para todos, nunca havíamos ido ao evento.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-entrada.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-entrada-450x253.jpg" width="450" height="253"></a></p>

<p>Ficamos impressionados com o tamanho e a organização do evento, uma <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-agenda.jpg">agenda</a> de 4 dias e 10 trilhas, com milhões de opções de palestras com temas e linhas variadas. Incrível quanta informação foi &#8220;distribuída&#8221; no evento, além das 10 salas, tinha um enorme salão com vários estandes e muitas coisas pra entreter <em>nerds</em>!</p>

<p style="text-align: center">
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-estandes.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-estandes-160x120.jpg" width="160" height="120" /></a>
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-grupos-de-usuarios.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-grupos-de-usuarios-160x120.jpg" width="160" height="120" /></a>
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-grupos-de-usuarios-2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-grupos-de-usuarios-2-160x120.jpg" width="160" height="120" /></a>
</p>


<p>Isso traz alguns problemas, no meu ver. Palestras vazias por outras concorrentes de mais peso, por exemplo: participamos do fim de uma palestra que tinha UM ouvinte, o que é praticamente um bate-papo. E a não parada para o almoço, tudo bem que ajuda a desafogar um pouco os restaurantes mas, faz com que muitas pessoas percam palestras pois em algum momento terão fome.</p>

<p style="text-align: center">
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-apresentacao-jose-nogueira-falando.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-apresentacao-jose-nogueira-falando-200x113.jpg" width="200" height="113" /></a>
  <a href="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-apresentacao-leonardo-saraiva-falando.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14-apresentacao-leonardo-saraiva-falando-200x113.jpg" width="200" height="113" /></a>
</p>


<p>Nós também palestramos, com o tema: &#8220;WSO2 - Apresentando e desmitificando a complexidade do SOA e suas &#8220;letrinhas&#8221; e caso tenham curiosidade de ver a palestra, fiquem de olho no site do FISL14, pois logo eles devem liberar os vídeos.</p>

<p style="text-align: center">
  <iframe src="https://docs.google.com/presentation/d/1EwbfJXR3swL1pmvBRIyCrBYu7p-E9XAqqKvus40DBdQ/embed?start=false&loop=false&delayms=3000" frameborder="0" width="533" height="429" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
</p>


<p>Gostaríamos de agradecer o pessoal do <a href="http://wso2.com">WSO2</a>, principalmente a <strong>Asangi</strong>, pela ajuda nos custos e paciência para nos responder prontamente em todas nossas dúvidas.</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Participaremos do FISL 14]]></title>
    <link href="http://mcorp.com.br/2013/07/participaremos-do-fisl-14"/>
    
    <updated>2013-07-03T13:34:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2013/07/participaremos-do-fisl-14</id>
    <content type="html"><![CDATA[<p>Sabemos que está muito em cima para avisar vocês, mas a correria da vida não está fácil pra ninguém (nem pro Eike Batista, <a href="http://g1.globo.com/economia/noticia/2013/07/cenario-economico-acumula-novo-reves-com-crise-de-empresa-de-eike-batista.html">não é</a>?).</p>

<p><a href="http://softwarelivre.org/fisl14"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/07/fisl14.png"></a></p>

<p>Mas&#8230; antes tarde do que nunca! Estaremos no <a href="http://softwarelivre.org/fisl14">FISL 14</a>, que ocorre entre os dias 3 e 6 de julho, &#8220;passeando&#8221; pelos corredores e assistindo as palestras, caso queiram conversar conosco, basta dar um grito.</p>

<p>Nós vamos palestrar no <strong>dia 6</strong>, sala <strong>41C</strong>, as <strong>14:00</strong>. Mas tem muitas palestras interessantes, dêem uma olhada na <a href="http://fisl.org.br/14/papers_ng/public/fast_grid?event_id=3">grade de palestras</a> que você se perderá na quantidade e na qualidade das palestras.</p>

<p>Nos vemos lá!</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Agendamento de tarefas na WSO2 Enterprise Service Bus]]></title>
    <link href="http://mcorp.com.br/2013/03/agendamento-de-tarefas-na-wso2-enterprise-service-bus/"/>
    
    <updated>2013-03-15T11:11:13-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2013/03/agendamento-de-tarefas-na-wso2-enterprise-service-bus</id>
    <content type="html"><![CDATA[<p>Em alguns casos vemos a necessidade de agendar algumas tarefas para a execução de algum script ou rotina, no projeto que estou trabalhando atualmente surgiu a necessidade de monitorar um <em>WS</em> a cada 5 segundos. Pensei em criar uma tarefa no <a href="http://pt.wikipedia.org/wiki/Crontab">crontab</a>, mas com isso seria complicado eu ter um controle mais detalhado sobre a execução da mesma, então me lembrei que na <a href="http://wso2.com/products/enterprise-service-bus/">WSO2 Enterprise Service Bus</a> existe uma funcionalidade que provê exatamente essa funcionalidade.</p>

<p>Nesse caso, especificamente, eu teria que controlar através de <em>log</em> as informações de execução, criei um <em>log</em> no meu programa e pude utilizar os gráficos e relatórios da própria ferramenta.</p>

<h1>Vamos exemplificar na prática esse uso</h1>

<p>As configurações abaixo foram feitas utilizando a versão 4.5.0 da WSO2 ESB.</p>

<h2>Criando a aplicação a ser executada</h2>

<p>Utilizando o jar <em><a href="http://mirrors.ibiblio.org/pub/mirrors/maven2/org/apache/synapse/synapse-core/1.1/synapse-core-1.1.jar">synapse-core.1.1.jar</a> digitacomo dependência da aplicação, a seguir temos uma classe que exemplifica como ficarão nossos métodos, o método </em>execute_ será invocado de tempo em tempo na execução da tarefa, podemos programar o que quisermos ali, tanto a execução de um processo, uma atualização de base, uma chamada de um webservices e etc.</p>

<div><script src='https://gist.github.com/5090589.js'></script>
<noscript><pre><code>&lt;html&gt;&lt;body&gt;You are being &lt;a href=&quot;https://github.com/gist/5090589&quot;&gt;redirected&lt;/a&gt;.&lt;/body&gt;&lt;/html&gt;</code></pre></noscript></div>


<p>Iremos gerar o arquivo .jar dessa aplicação e o colocaremos dentro de <em>[ESB - Home]/repository/components/lib</em></p>

<h2>Criando o agendamento</h2>

<p>Primeiramente vamos selecionar a opção &#8220;Scheduled Tasks&#8221;, na sequência &#8220;Add Task&#8221;.</p>

<p><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/03/agendamento-de-tarefas-na-wso2-esb-passo-1.png"></p>

<p>Iremos visualizar a tela onde cadastraremos nosso agendamento:</p>

<p><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/03/agendamento-de-tarefas-na-wso2-esb-passo-2.png"></p>

<p>Nessa tela devemos preencher as opções obrigatórias, na opção &#8220;Task Implementation&#8221; iremos colocar o endereço da classe que iremos chamar, a mesma do arquivo .jar que colocamos no diretório da ESB anteriormente.</p>

<p>E após apontar o endereço da classe clicaremos em &#8220;Load Task Properties&#8221;, caso ocorra algum erro do endereçamento, será nos avisado pela aplicação.</p>

<p><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/03/agendamento-de-tarefas-na-wso2-esb-passo-3.png"></p>

<p>Podemos adicionar mais propriedades para o nosso agendamento (de acordo com a classe implementada), após isso iremos configurar a &#8220;trigger&#8221; do agendamento, podemos utilizar o padrão <em>crontab</em> ou um padrão mais simples, nesse exemplo iremos cadastrar a opção de agendamento mais simples.</p>

<p>Na opção &#8220;Count&#8221; iremos dizer ao agendamento quantas vezes essa tarefa será executada, caso essa tarefa rode sempre podemos colocar o valor &#8220;-1&#8221;.</p>

<p>Na opção &#8220;Interval&#8221; iremos colocar o período de cada execução dessa tarefa, o padrão do valor está em segundos. Então, após isso podemos clicar em &#8220;Schedule&#8221; e finalizarmos o agendamento.</p>

<p><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/03/agendamento-de-tarefas-na-wso2-esb-passo-4.png"></p>

<p>É sempre interessante acompanharmos o <em>log</em> da aplicação para termos certeza que o agendamento funcionou perfeitamente.</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[WSO2Con 2013]]></title>
    <link href="http://mcorp.com.br/2013/02/wso2con-2013/"/>
    
    <updated>2013-02-18T22:13:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2013/02/wso2con-2013</id>
    <content type="html"><![CDATA[<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-auditorio.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-auditorio-400x300.jpg" width="400" height="300" title="WSO2Con Auditório" alt="WSO2Con Auditório"></a></p>

<p>O pessoal que acompanha o <a href="http://twitter.com/wso2brasil">@WSO2Brasil</a> está sabendo que fomos convidados para a <a href="http://wso2con.com">WSO2Con</a> em Londres, que aconteceu do dia 12 ao dia 14 de fevereiro.</p>

<p>O local estava muito bem decorado e com tudo perfeitamente bem preparado! Foi engraçado que tínhamos &#8220;link&#8221; direto com o pessoal em Colombo (Sri Lanka) e podíamos ficar assistindo-os pelo telão.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-pessoal-em-colombo.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-pessoal-em-colombo-400x300.jpg" width="400" height="300" title="WSO2Con Pessoal em Colombo" alt="WSO2Con Pessoal em Colombo"></a></p>

<p>Foram três dias de muito conteúdo e informação da mais alta qualidade, sendo eles divididos em:</p>

<ul>
<li><strong>Primeiro dia</strong>: dedicado totalmente a tutorias que cobriram da teoria a prática; e</li>
<li><strong>Segundo e terceiro dia</strong>: foram a convenção propriamente dita.</li>
</ul>


<p>Foi uma pena eu não conseguir assistir a todas as palestras ao vivo, mas pela qualidade das palestras que consegui assistir, somado aos comentários do <a href="http://twitter.com/vyper/wso2">pessoal no twitter</a>, pude perceber que todas as palestras foram de alta qualidade. Agora basta esperar sair os vídeos para que possamos assistir a todas as palestras.</p>

<p>No decorrer dos próximos dias irei publicar o material sobre as palestras que assisti. Mas vou adiantando aqui mesmo algumas novidades pra vocês irem acompanhando até eu poder detalhar com calma.</p>

<h2>WSO2 API Manager</h2>

<p>Todo o suporte para publicação de aplicações: controle de versão, controle de fluxo do desenvolvimento, banco de dados, publicação nos diversos ambientes entre outras coisas num único lugar!</p>

<p>O <em>alpha</em> está disponível! Caso alguém teste com mais calma, compartilhem aí as informações, ainda não pude ver com muita calma, mas adianto que no <em>demo</em> não deu nenhum problema (o que é um milagre em palestras) e os meus testes totalmente <em>express</em> nos intervalos das palestras, tudo funcionou perfeitamente!</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-api-manager.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-api-manager-400x300.jpg" width="400" height="300" title="WSO2 API Manager" alt="WSO2 API Manager"></a></p>

<h2>WSO2 Doc Star: Melhorias na documentação</h2>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-doc-star.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-doc-star-400x300.jpg" width="400" height="300" title="WSO2 Doc Start" alt="WSO2 Doc Star"></a></p>

<p>É um ponto que todos sofremos e temos tentado ajudar, mas agora a coisa vai!</p>

<h2>Raspberry PI&#8230;</h2>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-raspberry-pi-cluster.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-raspberry-pi-cluster-400x300.jpg" width="400" height="300" title="Cluster de Raspberry PI" alt="Cluster de Raspberry PI"></a></p>

<p>Todos os participantes ganharam um <a href="http://www.raspberrypi.org/">Raspberry PI</a>, inclusive nós!</p>

<p>O pessoal montou todo <em>cluster</em> com raspberry para rodar a <a href="http://wso2con.com/m">aplicação <em>mobile</em></a>&#8230; E teve palestras detalhando isso, então aguardem&#8230;</p>

<p>Mas caso você seja muito curioso, tem aqui dois <em>posts</em> em inglês com detalhamento <em>Building a Raspberry Pi Cluster <a href="http://blog.afkham.org/2013/01/raspberry-pi-control-center.html">Part 1</a></em> e <em><a href="http://blog.afkham.org/2013/02/building-raspberry-pi-cluster-part-2.html">Part 2</a></em>.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-organizacao.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2013/02/wso2con-organizacao-400x300.jpg" width="400" height="300" title="WSO2Con Organização" alt="WSO2Con Organização"></a></p>

<p>Meus parabéns ao pessoal organizador da <a href="http://wso2con.com">WSO2Con</a> e até depois! Desculpem-me pela qualidade das fotos, mas na correria fui apenas com o celular. ):</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Treinamento: Celepar]]></title>
    <link href="http://wso2brasil.com.br/blog/2012/11/treinamento-celepar/"/>
    
    <updated>2012-11-08T20:06:00-02:00</updated>
    <id>http://wso2brasil.com.br/blog/2012/11/treinamento-celepar</id>
    <content type="html"><![CDATA[<p>Aplicamos um pequeno treinamento/apresentação nos dias 07 e 08/11 na <a href="http://www.celepar.pr.gov.br/">Celepar</a>, Companhia de Informática do Paraná, os
temas abordados foram os usos das ferramentas <a href="http://wso2.com/products/data-services-server/">WSO2 Data Service</a>, <a href="http://wso2.com/products/application-server/">WSO2 Application Server</a> e <a href="http://wso2.com/products/enterprise-service-bus/">WSO2 Enterprise Service Bus</a>.</p>

<p>Falamos sobre como funciona o tal do &#8221;<a href="http://wso2brasil.com.br/glossario/#SOA">SOA</a>&#8221;, passamos num geral sobre as funcionabilidades das ferramentas e, por fim, simulamos
um pequeno <em>case</em> utilizando as ferramentas citadas anteriormente.</p>

<p>Estiveram presentes membros de diversas equipes da empresa: infra-estrutura, desenvolvedores, responsáveis por novas tecnologias
e algumas outras áreas mais específicas. Elas serão usadas como &#8220;cobaias&#8221; para a implementação dos primeiros <em>cases</em> da empresa.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2012/11/treinamento-celepar.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2012/11/treinamento-celepar-400x300.jpg" width="400" height="300"></a></p>

<p>Um muito obrigado a todos os envolvidos.</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[WSO2: SOA Workshop em São Paulo]]></title>
    <link href="http://wso2brasil.com.br/blog/2011/11/wso2-soa-workshop-em-sao-paulo/"/>
    
    <updated>2011-11-12T19:18:34-02:00</updated>
    <id>http://wso2brasil.com.br/blog/2011/11/wso2-soa-workshop-em-sao-paulo</id>
    <content type="html"><![CDATA[<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/11/junior-chintana-amani-nuwan-leonardo.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2011/11/junior-chintana-amani-nuwan-leonardo-300x225.jpg" width="300" height="225" title="Junior, Chintana, Amani, Nuwan e Leonardo" alt="Junior, Chintana, Amani, Nuwan e Leonardo"></a></p>

<p>No último fim de semana estivemos participando do <a href="http://wso2.com/events/workshops/2011-november-sao-paulo-open-paas-workshop/">Open PaaS Workshop: Understanding the Stratos Cloud Platform</a> em São Paulo.</p>

<p>O <em>workshop</em> foi uma ótima oportunidade para conhecermos outras pessoas que utilizam a plataforma. E, também, saber que um pessoal do WSO2 veio ao Brasil realizar um <em>quickstart</em> em duas empresas, uma de Uberlândia e outra de São Paulo. Esses dois <em>cases</em>, são os primeiros <em>cases</em> privados que ficamos sabendo, publicamente. Estamos atrás de maiores detalhes sobre os projetos para escrevermos sobre eles.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-galera.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-galera-150x150.jpg"></a>
<a href="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-galera-2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-galera-2-150x150.jpg"></a>
<a href="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-galera-3.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-galera-3-150x150.jpg"></a></p>

<p>Isso mostra que o <a href="http://wso2.org">WSO2</a> está em crescimento no Brasil. E o que só ajuda a confirmar esse crescimento, é a participação da concorrência no <em>workshop</em> e também outras empresas interessadas em utilizar o WSO2.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-diogenes.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-diogenes-300x225.jpg" alt="" /></a></p>

<p>O <em>workshop</em> foi aberto pelo Diogenes Justo (<a href="http://www.indusval.com.br">Banco Indusval</a>) que deu uma introdução, falou um pouco do projeto, as opções estudadas e como chegou até o WSO2. Foi mais um bate-papo com a galera, passando uma visão muito interessante sobre o projeto deles. Conversamos com ele para que nos passasse mais detalhes sobre o projeto e a experiência de trabalhar com a plataforma, logo teremos boas novidades e mais conteúdo para vocês, vindo de outra fonte!</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-chintana.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-chintana-150x150.jpg" alt="" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-nuwan.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-nuwan-150x150.jpg" alt="" /></a></p>

<p>Também tivemos o <a href="http://wso2.com/about/team/chintana-wilamuna">Chintana Wilamuna</a> e o <a href="http://wso2.com/about/team/nuwan-bandara">Nuwan Bandara</a> falando sobre a plataforma em nuvem do WSO2 (<a href="http://stratoslive.wso2.com">Stratos Live</a>) e tirando várias dúvidas do pessoal! Todos estavam bastante curiosos e questionadores. As dúvidas foram bastante diversificadas, não apenas sobre <em>cloud</em>. O que gerou uma conversa legal e uma ótima troca de experiências.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-amani.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/11/wso2-soa-workshop-amani-300x225.jpg" alt="" /></a></p>

<p>Fechando as palestras por parte do pessoal do WSO2, veio a <a href="http://wso2.com/about/team/amani-soysa/">Amani Soysa</a>, que falou e mostrou um pouco do poderio do <a href="http://wso2.org/library/dss">WSO2 Data Services Server</a>. O que é uma &#8220;sacanagem&#8221;, uma das ferramentas mais úteis e práticas. Não sou o cara mais imparcial pra falar da palestra da Amani, pois sou um amante declarado dessa do WSO2 DSS, então passo a bola.</p>

<p>E, para fechar o evento, falei um pouco sobre nossa implantação aqui no <a href="http://www.ici.curitiba.org.br">ICI</a>. Tracei o perfil da equipe que participou do projeto, das opções e escolhas que fizemos, um pouco das vantagens e, também, dos problemas enfrentados em uma implantação sem suporte algum, em uma realidade menos &#8216;enterprise&#8217;. E, claro, falei um pouco da comunidade <a href="http://www.wso2brasil.com.br">WSO2 Brasil</a> para que a galera se anime a estudar, ajudar e contribuir.</p>

<p>A minha parte da palestra foi gravada, assim que eu conseguir a gravação, compartilharei por aqui. Por enquanto segue a minha apresentação, abaixo:</p>

<iframe src="https://docs.google.com/present/embed?id=dd38hq7r_18dpb73rcp" frameborder="0" width="410" height="342"></iframe>


<p>Resumindo, o evento foi muito bom! E para fechar com chave de ouro, recebemos um convite para acompanhar o <em>quickstart</em> do pessoal do WSO2 (pequenos <em>workshops</em> e instalação de alguns produtos) no <a href="http://www.indusval.com.br">Banco Indusval</a> de São Paulo. Um dos motivos da demora para escrevermos sobre.</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[WSO2 Data Services Server e suas atualizações]]></title>
    <link href="http://wso2brasil.com.br/blog/2011/10/wso2-data-services-server-e-suas-atualizacoes/"/>
    
    <updated>2011-10-06T15:58:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2011/10/wso2-data-services-server-e-suas-atualizacoes</id>
    <content type="html"><![CDATA[<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/10/testes-e-a-neura.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/10/testes-e-a-neura.jpg" alt="" /></a></p>

<p>Se tem uma tarefa que toma muito tempo nosso, são os testes quando sai versão nova de algum produto do <a href="http://wso2.org">WSO2</a>.</p>

<p>Estamos trabalhando na migração do <a href="http://wso2brasil.com.br/tag/data-services/">WSO2 Data Services Server</a> <a href="http://wso2brasil.com.br/2010/04/novidades-do-proximo-wso2-data-services-server-2-5-x/">2.5.1</a> para a <a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/">2.6.0</a> e isso gera uma árdua tarefa de testar todos os serviços que temos rodando, que rodam com diferentes banco de dados (<a href="http://dev.mysql.com">MySQL</a>, <a href="http://www.postgresql.org">PostgreSQL</a>, <a href="http://www.microsoft.com/sqlserver/">SQL Server</a>, <a href="http://www.oracle.com/br/">Oracle</a>).</p>

<p>Na maioria das vezes não encontramos problema algum ou apenas uma pequena
mudança de atributo ou <em>tag</em> na definição dos .dbs. Mas as vezes encontramos
problemas que fogem da simples configuração do data service, e como aconteceu
agora conosco: um <em>bug</em>.</p>

<p>Para tentar minimizar esse trabalho gerei um projeto que tem a ideia de
automatizar ao máximo esse tipo de trabalho! E, para com isso, irmos além dos
testes unitários que são realizados pelo pessoal do desenvolvimento do WSO2,
testar as interfaces em real funcionamento, nos mais variados bancos de dados.</p>

<p>E assim nasceu o pequeno projeto <a href="http://github.com/WSO2Brasil/wso2-ds-tests">wso2-ds-tests</a>. Que é um apanhando de data
services, sql&#8217;s e projeto do <a href="http://www.soapui.org/">SOAPUI</a>. Para maiores
informações basta <a href="http://github.com/WSO2Brasil/wso2-ds-tests">acessar o projeto</a> no <a href="http://github.com">Github</a>!</p>

<p>Deem uma olhadela por lá e qualquer contribuição é muito bem vinda, basta
fazer um <em>fork</em> e mandar um <em>pull request</em>.</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Novidades WSO2 Data Services Server (2.6.x)]]></title>
    <link href="http://wso2brasil.com.br/blog/2011/06/novidades-wso2-data-services-server-2-6-x/"/>
    
    <updated>2011-06-11T15:39:37-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2011/06/novidades-wso2-data-services-server-2-6-x</id>
    <content type="html"><![CDATA[<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-home.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-home-300x159.png" alt="WSO2 - Data Services Server 2.6.0 - Home" /></a></p>

<p>Tenho acompanhado os <a href="http://builder.wso2.org/~carbon/releases/carbon/3.2.0/"><em>builds</em> diários</a> que o pessoal
do <a href="http://wso2.org/">WSO2</a> tem feito e logo percebi várias novidades na
interface, alteração essa que acontecerá em todos or produtos da série Carbon
3.2.*.</p>

<p>Mas, hoje eu tratarei apenas das novidades que teremos no Data Services
Server, que são muitas e algumas bem importantes e há muito esperadas!</p>

<ul>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#udt-support">UDT (User Defined Type) Support</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#complex-results">Complex Results</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#auto-generated-keys-support">Auto Generated Keys Support</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#distributed-transactions">Distributed Transactions</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#improved-boxcarring-support">Improved Boxcarring Support</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#improved-batch-request-support">Improved Batch Request Support</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#scheduled-tasks">Scheduled Tasks</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#registry-integration">Registry Integration for Excel, CSV, XSLT</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#web-scraping-support">Web Scraping Support</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#multiple-sql-dialect-support">Multiple SQL Dialect Support</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#db-to-ds-generation">Database to Data Service Generation</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#data-service-query-improvements">Data Service Query Improvements</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#service-group-hierarchy-support">Service Group/Hierarchy Support</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#database-explorer">Database Explorer</a></li>
<li><a href="http://wso2brasil.com.br/2011/06/novidades-wso2-data-services-server-2-6-x/#dss-stratos-service">Data as a Service Features - DSS Stratos Service</a></li>
</ul>


<h3><a name="udt-support"></a>UDT (User Defined Type) Support</h3>

<p>Não encontrei maiores detalhes na documentação ou no próprio WSO2 Data
Services Server, talvez não tenha saído ainda nessa <em>release</em>.</p>

<h3><a name="complex-results"></a>Complex Results</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-complex-elements-list.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-complex-elements-list-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Complex Elements - List" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-complex-elements-insert-nested.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-complex-elements-insert-nested-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Complex Elements - Insert nested" /></a></p>

<p>Agora fica possível criar elementos complexos, facilitando algumas coisas em
que era necessário utilizar um <em>transformation</em> (XSLT) ou <em>sub-queries</em>,
ganhando - e muito - em performance.</p>

<h3><a name="auto-generated-keys-support"></a>Auto Generated Keys Support</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-keys.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-keys-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Generate keys" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-keys-invoke.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-keys-invoke-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Generate keys: Invoke" /></a></p>

<p>Muito útil para recuperar a <em>primary key</em> de um registro inserido no banco,
tirando a necessidade de fazer <em>stored procedures</em> ou outro método de consumo
apenas para recuperar a chave inserida.</p>

<h3><a name="distributed-transactions"></a>Distributed Transactions</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-distribute-transactions.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-distribute-transactions-300x159.png" alt="WSO2 Data Services Server 2.6.0 - Distribute Transactions" /></a></p>

<p>Uma maneira de realizar transações distribuídas (na maioria das vezes em
<em>databases</em> separados), será usado JTA para controlar as transações e também é
necessário que usará XA. Com isso ganhamos em não mais precisarmos controlar
isso manualmente com um serviço no WSO2 Application Server.</p>

<h3><a name="improved-boxcarring-support"></a>Improved Boxcarring Support</h3>

<p>Apenas melhorias no suporte que já existia desde a versão 2.5.0, não encontrei
nenhuma alteração visual ou no processo de desenvolvimento.</p>

<h3><a name="improved-batch-request-support"></a>Improved Batch Request Support</h3>

<p>Apenas melhorias no suporte que já existia desde a versão 2.5.0, não encontrei
nenhuma alteração visual ou no processo de desenvolvimento.</p>

<h3><a name="scheduled-tasks"></a>Scheduled Tasks</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-scheduled-tasks.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-scheduled-tasks-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Scheduled Tasks" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-scheduled-tasks-inserting.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-scheduled-tasks-inserting-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Scheduled Tasks: Insert" /></a></p>

<p>Agora, ao invés de fazermos <em>shell scripts</em> que ficam na <em>crontab</em> do servidor
para agendar alguns consumos, podemos fazer isso diretamente no WSO2 Data
Services Server.</p>

<h3><a name="registry-integration"></a>Registry Integration for Excel, CSV, XSLT</h3>

<p>Não encontrei maiores detalhes na documentação ou no próprio WSO2 Data
Services Server, talvez não tenha saído ainda nessa <em>release</em>.</p>

<h3><a name="web-scraping-support"></a>Web Scraping Support</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-web-scraping-data-source.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-web-scraping-data-source-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Web Scraping: Data Source" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-web-scraping-query.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-web-scraping-query-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Web Scraping: Query" /></a></p>

<p>Poderemos consumir dados diretamente de sites, fazendo <em>parser</em> em conteúdo de
páginas, por exemplo.</p>

<h3><a name="multiple-sql-dialect-support"></a>Multiple SQL Dialect Support</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dialects-options.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dialects-options-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Multiple Dialects SQL: Options" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dialects-sql-add.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dialects-sql-add-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Multiple Dialects SQL: Add" /></a></p>

<p>Apesar de ter encontrado referências na <em>wizard</em> de criação/alteração de
serviços, não encontrei nada na documentação ou entendi como funcionará, vamos
aguardar outros <em>releases</em>.</p>

<h3><a name="db-to-ds-generation"></a>Database to Data Service</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database to Data Service Generation" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-choise-type.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-choise-type-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database to Data Service Generation: Choise Type" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-select-tables.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-select-tables-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database to Data Service Generation: Select Tables" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-tryit.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-tryit-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database to Data Service Generation: Try-it" /></a></p>

<p>Nessa versão é possível gerar automaticamente os métodos para um database e
tabela específico, mas apenas para Carbon Data Sources. Apesar de não ter
gostado no padrão gerado, pode ser bom para gerar o CRUD básico e ser alterado
posteriormente.</p>

<h3><a name="data-service-query-improvements"></a>Data Service Query Improvements</h3>

<p>Imagino que tenha sido apenas melhorias nas rotinas internas de montagem e
processamento de <em>queries</em>. Porque as opções avançadas de <em>query</em> já existiam
na versão 2.5.*.</p>

<h3><a name="service-group-hierarchy-support"></a>Service Group/Hierarchy Support</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-group-option.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-group-option-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Service Group: Option" /></a><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-group-list.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-group-list-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Service Group: List" /></a></p>

<p>Apenas um agrupamento de serviços, imagino que venha como padrão em todo
aplicativo da suíte Carbon, pois em alguns outros aplicativos já existia essa
opção.</p>

<h3><a name="database-explorer"></a>Database Explorer</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dbconsole-login.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dbconsole-login-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database Console: Login" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dbconsole-simple-query.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dbconsole-simple-query-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database Console: Simple Query" /></a></p>

<p>Uma novidade muito interessante e prática, eles colocaram dentro do WSO2 Data
Services Server uma maneira de explorarmos as bases de dados. E a interface
lembra bastante o <a href="http://www.squirrelsql.org/">SQuirreL SQL</a>, ficou muito
prático.</p>

<h3><a name="dss-stratos-service"></a>Data as a Service Features - DSS Stratos Service</h3>

<p>Existem algumas novidades também sobre os produtos como serviço na nuvem, que
chamam de <a href="http://www.mcorp.com.br/2010/06/lancamento-do-wso2-stratos-alpha/">Stratos</a>,
mas não encontrei documentação nesse <em>build</em>.</p>

<p>E algumas outras pequenas alterações que foram percebidas, como:</p>

<ul>
<li><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-response.png">Generate response</a>: baseado na <em>query</em> é gerada a resposta do serviço;</li>
<li><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-force-stored-procedure.png">Force stored procedure</a>: força a executar a <em>query</em> como uma <em>stored procedure</em>;</li>
<li>Entre outras inúmeras pequenas alterações que vão sendo notadas no uso dia-a-dia.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[SOA Summer School 2011]]></title>
    <link href="http://wso2brasil.com.br/blog/2011/05/soa-summer-school-2011/"/>
    
    <updated>2011-05-06T09:17:35-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2011/05/soa-summer-school-2011</id>
    <content type="html"><![CDATA[<p><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/05/summerschool-2011.gif" alt="" /></p>

<p>Movimentando, novamente, nossas férias de inverno (verão para os
estadunidenses) tem o SOA Summer School, versão 2011. Várias palestras
(<em>online</em>) ministradas pelo pessoal do <a href="http://www.wso2.org">WSO2</a>, uma vez
por semana, falando sobre vários assuntos (lista de palestras abaixo).</p>

<p>Disponibilizei um calendário no fuso horário GMT -3 (America/Sao_Paulo) para
que não esqueçamos do evento.</p>

<iframe src="https://www.google.com/calendar/b/0/embed?showPrint=0&amp;showCalendars=0&amp;mode=AGENDA&amp;height=450&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src=maneh.org_j9mbgf10sln3f2k01d94n0fl10%40group.calendar.google.com&amp;color=%23182C57&amp;ctz=America%2FSao_Paulo" style=" border-width:0 " width="600" height="450" frameborder="0" scrolling="no"></iframe>


<p>Fiquem ligados e não se esqueçam de realizar a inscrição no site do <a href="http://wso2.org/training">SOA Summer School 2011</a>!</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[ Segurança de informações através de filtragem de dados no WSO2 Data Services]]></title>
    <link href="http://wso2brasil.com.br/blog/2011/02/seguranca-de-informacoes-atraves-de-filtragem-de-dados-no-wso2-data-services/"/>
    
    <updated>2011-02-24T19:30:30-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2011/02/seguranca-de-informacoes-atraves-de-filtragem-de-dados-no-wso2-data-services</id>
    <content type="html"><![CDATA[<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/cadeado.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/cadeado-300x199.jpg" alt="" /></a></p>

<p>Em alguns casos, podemos nos deparar com a necessidade de confidencializar
alguns dados no retorno de <a href="http://www.mcorp.com.br/glossario/#DataServices">Data Services</a>,
exibindo-os apenas
para determinados grupos de usuários, tanto por questão de segurança (quando
algum grupo específico não pode ter acesso a algumas informações),  quanto por
não ter a necessidade de utilizar esse retorno, para que assim não precisemos
criar dois serviços com a mesma finalidade. O WSO2 Data Services Server
oferece a possibilidade de filtrar esses dados no retorno de uma <em>query</em>,
através do <a href="http://www.mcorp.com.br/glossario/#WS-Security">WS-Security</a> (tem
como foco principal o uso de <a href="http://www.mcorp.com.br/glossario%0A/#XML-Signature">XML Signature</a> e <a href="http://www.mcorp.com.br/glossario/#XML-Encryption">XML Encryption</a>). Nesse caso irei exemplificar a seguinte situação: um serviço que
retorna dados referente aos funcionários, sendo consumido por dois
departamentos: o RH (que necessita dos dados referente aos pagamentos dos
honorários) e o setor de segurança (que utiliza apenas os dados cadastrais
para acesso dos funcionários as dependências da empresa).</p>

<p>Iremos utilizar nesse exemplo o WSO2 Data Services Server em sua versão 2.5.1
(nesse caso considerando um conhecimento básico da suíte
<a href="http://www.mcorp.com.br/glossario/#WSO2">WSO2</a>, caso contrário consulte os
<a href="http://www.mcorp.com.br/tag/wso2"><em>posts</em> relacionados ao WSO2</a>):</p>

<ul>
<li><a href="http://www.leandroprado.com.br/2010/07/criando-um-ambiente-soa-com-wso2/">Criando um ambiente SOA com WSO2</a></li>
<li><a href="http://www.leandroprado.com.br/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services/">Criando serviços com WSO2 Data Services</a></li>
</ul>


<p>Supondo que possuímos o banco de dados, com uma tabela simples chamada de
TB_FUNCIONARIOS, com os campos: ID, NOME E SALARIO.</p>

<h2>Etapa 1 - Criando o usuário</h2>

<p>Logado ao WSO2 Data Services Server vá em &#8220;Home > Configure > User Management > Users&#8221;,
para que possamos criar novos usuários, nesse caso criaremos os
usuários &#8220;Maria&#8221; que faz parte do departamento de RH da empresa e &#8220;Joao&#8221; que
faz parte da segurança do prédio. Click em &#8220;Add User&#8221; para preenchermos os
dados do usuário que será cadastrado.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.0-add-user-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.0-add-user-wso2-300x205.jpg" alt="add user wso2" /></a></p>

<p>Após inserir os dados do usuário, clicar em &#8220;finish&#8221;, repetir o procedimento
pro cadastro do outro usuário. Podemos listar os usuários criados como mostra
a imagem.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.1-list-user-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.1-list-user-wso2-300x149.jpg" alt="list user wso2" /></a></p>

<h2>Etapa 2 - Criando grupos de usuários</h2>

<p>Com nossos usuários criados, vamos gerar um grupo para vincular ao perfil do
usuário. Vá em &#8220;Home > Configure > Users and Roles > Roles&#8221;, serão listados os
grupos existentes no WSO2, clique em &#8220;Add New Role&#8221; que abrirá a tela para
cadastrarmos os grupos.</p>

<p>Crie um grupo com o nome &#8220;RecursosHumanos&#8221;, em seguida clique em &#8220;next&#8221;,
aparecerá a tela com os flags de permissões e previlégios para os membros do
grupo. Nesse caso vamos selecionar a opção &#8220;All permissions&#8221;, para que sejam
marcadas todas as opções. Enquanto estamos criando o grupo, já podemos
vincular os usuários que farão parte do mesmo, faça uma busca listando todos
os usuários e selecione o usuário &#8220;Maria&#8221; criado anteriormente, como na imagem
abaixo e finalize.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.2-select-user-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.2-select-user-wso2-300x170.jpg" alt="select user wso2" /></a></p>

<p>Agora usando o mesmo processo vamos criar o grupo &#8220;Seguranca&#8221;. Observe que
quando selecionamos algum usuário criado e vinculado ao grupo, o mesmo possui
um ou vários grupos selecionados.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.3-roles-of-users-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.3-roles-of-users-wso2-300x176.jpg" alt="roles of users wso2" /></a></p>

<h2>Etapa 3 - Filtrando dados da consulta</h2>

<p>Com os usuários e grupos devidamente criados vamos finalmente ao que
interessa, filtrar os dados de acordo com o perfil de cada grupo. Considerando
que já exista um serviço &#8220;empresa&#8221;, vamos criar o método
&#8220;pesquisarFuncionario&#8221; para demonstrar como filtrar os dados de retorno do
método. Nesse caso, o método nos retornará os campos &#8220;ID&#8221; e &#8220;NOME&#8221; para o
grupo Segurança, e &#8220;ID&#8221;, &#8220;NOME&#8221; e &#8220;SALARIO&#8221; para o grupo RecursosHumanos.</p>

<p>Iremos em &#8220;Home > Manage > Services > List > Service Dashboard > Service
Details > Data Sources > Queries&#8221;,  para inserirmos nosso novo método.
Preenchemos com o SQL, o campo de entrada, e na hora em que formos preencher o
retorno será onde a &#8220;mágica&#8221; acontecerá.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.4-edit-query-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.4-edit-query-wso2-300x176.jpg" alt="edit query wso2" /></a></p>

<p>No item &#8220;Add new output Mapping&#8221; abriremos a tela para cadastrar um novo campo
de retorno, preenchemos o tipo do campo, o nome de saída e o nome do campo no
SQL. Abaixo dessas opções temos o item &#8220;Allowed User Roles&#8221;, aonde aparecerão
os grupos que criamos anteriormente, para os campos &#8220;ID E NOME&#8221; selecionaremos
ambos os grupos, no caso do campo &#8220;SALARIO&#8221; selecionaremos apenas o grupo
RecursosHumanos, com o método criado mostraremos como consumir esse método
filtrando os dados.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.5-add-edit-output-mapping-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.5-add-edit-output-mapping-wso2-300x160.jpg" alt="add edit output mapping wso2" /></a></p>

<h2>Etapa 4 - Testando a filtragem de dados</h2>

<p>Agora vamos abrir a opção &#8221; Home > Manage > Services > List > Service
Dashboard > Security for the service > Activate Security > Service Dashboard >
Security for the service&#8221;, selecionamos a opção &#8220;yes&#8221; no combo e setamos o
flag &#8220;UsernameToken&#8221;, assim estaremos habilitando segurança por grupo e
usuário do cliente.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.6-security-for-the-service-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.6-security-for-the-service-wso2-300x130.jpg" alt="security for the service wso2" /></a></p>

<p>Simulando a execução do serviço, no próprio WSO2 Data Services Server, podemos
perceber que aparecem as opções &#8220;username&#8221; e &#8220;password&#8221;. O retorno será
filtrado de acordo com o usuário que for preenchido nesses campos. Executando
a consulta, notaremos que o campo &#8220;SALARIO&#8221; só aparece no retorno se
utilizarmos o usuário &#8220;Maria&#8221;.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.9-full-return-service-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.9-full-return-service-wso2-300x126.jpg" alt="full return service wso2" /></a></p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.8-parcial-return-service-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.8-parcial-return-service-wso2-300x128.jpg" alt="parcial return service wso2" /></a></p>

<p>Espero ter colaborado, sugestões e criticas são sempre bem vindas, focando o
objetivo de transformar a comunidade <a href="http://www.wso2brasil.com.br/">WSO2 Brasil</a> cada vez mais forte, até o próximo
post.</p>

<p>Post baseado no artigo &#8221;<a href="http://wso2.org/library/articles/content-filtering-data-services-user-roles">content filtering data services user roles</a>&#8221; de Anjana Fernando - Software Engineer WSO2.</p>

<p>Pode ser visto um exemplo de <a href="http://www.mcorp.com.br/2010/03/consumindo-um-servico-seguro-utilizando-php/">consumo um servico seguro utilizando php</a>.</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Lançamento do WSO2 Complex Event Processing Server 1.0.0 (Alpha)]]></title>
    <link href="http://wso2brasil.com.br/blog/2011/01/lancamento-do-wso2-complex-event-processing-server-1-0-0-alpha/"/>
    
    <updated>2011-01-04T07:28:06-02:00</updated>
    <id>http://wso2brasil.com.br/blog/2011/01/lancamento-do-wso2-complex-event-processing-server-1-0-0-alpha</id>
    <content type="html"><![CDATA[<p><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/01/wso2-complex-event-processing-server-300x28.gif" alt="" /></p>

<p>Foi lançado ontem na lista de desenvolvedores do WSO2 (carbon-dev@wso2.org) o
WSO2 Complex Event Processing Server, em sua versão 1.0.0 (alpha), faz com que
tenhamos processamento de eventos complexos em nosso ambiente SOA.</p>

<p>Alguns dos recursos que podemos encontrar no WSO2 CEP:</p>

<ul>
<li>Plugable back end rutime support - WSO2 CEP supports following back end run time engines.

<ul>
<li>Drools Fusion - This back end runtime engine is distributed with the CEP pack</li>
<li>Esper     - This back end runtime is available at WSO2 GPL P2 repository : <a href="http://dist.wso2.org/wso2-gpl-p2/carbon/releases/3.1.0-alpha/">http://dist.wso2.org/wso2-gpl-p2/carbon/releases/3.1.0-alpha/</a> and can be added as a feature with WSO2 Carbon Feature Management.</li>
</ul>
</li>
<li>Support Multiple Broker Types - WSO2 CEP supports WS-Event and JMS-Qpid broker types;</li>
<li>GUI Support -  WSO2 CEP supports create,edit,delete operations on Buckets, Inputs and Queries;</li>
<li>Use Registry resources - WSO2 CEP supports using resources stored in registry (Queries) to create buckets;</li>
<li>Persistence   - WSO2 CEP supports persisting created buckets in the registry;</li>
<li>I18n Support for CEP - WSO2 CEP supports internationalization.</li>
</ul>


<p>O povo do WSO2 nos convida para <a href="http://wso2.org/downloads/cep">baixar o WSO2 CEP</a>, instalar, testar e reportar bugs
(utilizando o <a href="https://wso2.org/jira/secure/project/ViewProject.jspa?pid=10190">Jira do WSO2</a>) - caso
encontremos!</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Série criando serviços com WSO2]]></title>
    <link href="http://www.leandroprado.com.br/2010/10/serie-criando-servicos-com-wso2/"/>
    
    <updated>2010-10-22T00:00:00-02:00</updated>
    <id>http://wso2brasil.com.br/blog/2010/10/serie-criando-servicos-com-wso2</id>
    <content type="html"><![CDATA[<p>Veja abaixo os links para a série de posts de como criar serviços com o WSO2</p>

<ul>
<li><a href="http://www.leandroprado.com.br/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services/">Criando um WSO2 DataServices</a></li>
<li><a href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-2-wso2-wsas/">Criando um WSO2 Application Service</a></li>
<li><a href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-3-wso2-esb">Criando roteamento na BUS</a></li>
</ul>


<p>Um Abraço!</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Configurando o WSO2 com PostgreSQL]]></title>
    <link href="http://www.leandroprado.com.br/2010/10/configurando-o-wso2-com-postgresql/"/>
    
    <updated>2010-10-18T00:00:00-02:00</updated>
    <id>http://wso2brasil.com.br/blog/2010/10/configurando-o-wso2-com-postgresql</id>
    <content type="html"><![CDATA[<p>Quando instalamos as ferramentas do WSO2 por padrão vem configurado com o banco <a title="H2 Database" href="http://www.h2database.com/html/main.html" target="_blank">H2</a>, mas hoje vamos ver como alterar para o <a title="PostgreSQL" href="http://www.postgresql.org.br/downloads" target="_blank">PostgreSQL</a> dessa forma deixando nossa arquitetura mais robusta.</p>

<h2>1. Configurando a base</h2>

<p>Primeiro de tudo temos que criar a base de dados no Postgre, para isso vamos utilizar a ferramenta PgAdmin que ja vem na instalação do PostgreSQL. Abra o PgAdmin e clique com o botão direito em cima de DataBases e selecione a opção New Database.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem1.png"><img class="aligncenter size-full wp-image-697" title="Criando a DataBase" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem1.png" alt="" width="335" height="278" /></a></p>

<p>Na nova janela coloque o nome da nova database de <strong>gregdb</strong> e clique em OK</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem2.png"><img class="aligncenter size-full wp-image-698" title="Configurando a DataBase" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem2.png" alt="" width="374" height="547" /></a></p>

<p>Agora vamos criar um novo usuário, clique com o botão direito em cima de Login Roles e selecione a opção New Login Role</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem3.png"><img class="aligncenter size-full wp-image-699" title="Criando um novo usuário" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem3.png" alt="" /></a></p>

<p>Na nova janela configure da seguinte maneira:</p>

<ul>
<li>Role Name: <strong>gregadmin</strong></li>
<li>Password: <strong>gregadmin</strong></li>
<li>Password (again): <strong>gregadmin</strong></li>
</ul>


<p>Para finalizar clique em OK</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem4.png"><img class="aligncenter size-full wp-image-700" title="Configuração do Login" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem4.png" alt="" width="429" height="454" /></a></p>

<h2>2. Configurando o Registry</h2>

<p>Agora vamos alterar as configurações do Registry, abra o arquivo registry.xml que se encontra no diretório $GREG_HOME/repository/conf, onde $GREG_HOME é o local onde  está instalado o WSO2 Governance Registry, e adicione as seguintes linhas.</p>

<pre class="brush: xml; title: ; notranslate">
&lt;dbConfig name=&quot;postgresql-db&quot;&gt;
    &lt;url&gt;jdbc:postgresql://localhost:5432/gregdb&lt;/url&gt;
    &lt;userName&gt;gregadmin&lt;/userName&gt;
    &lt;password&gt;gregadmin&lt;/password&gt;
    &lt;driverName&gt;org.postgresql.Driver&lt;/driverName&gt;
    &lt;maxActive&gt;80&lt;/maxActive&gt;
    &lt;maxWait&gt;60000&lt;/maxWait&gt;
    &lt;minIdle&gt;5&lt;/minIdle&gt;
&lt;/dbConfig&gt;
</pre>


<p>Explicando a configuração:</p>

<ul>
<li>url: Endereço JDBC para o banco</li>
<li>username: Usuário para conectar ao banco</li>
<li>password: Senha do usuário</li>
<li>driverName: Nome do driver</li>
<li>maxActive: O número máximo de conexões ativas</li>
<li>maxWait: O número máximo de milissegundos que o pool de espera para uma conexão ser devolvido</li>
<li>minIdle: O número mínimo de conexões ativas que pode permanecer inativo no pool</li>
</ul>


<p>Depois de criado a conexão temos que ativa-la, altere a opção <strong>currentDBConfig</strong> para a coneão que acabamos de criar.</p>


<pre class="brush: xml; title: ; notranslate">
&lt;currentDBConfig&gt;postgresql-db&lt;/currentDBConfig&gt;
</pre>


<p>Agora vamos editar o arquivo user-mgt.xml que se encontra no mesmo diretório ($GREG_HOME/repository/conf) e faça a seguinte alteração.</p>


<pre class="brush: xml; title: ; notranslate">
&lt;Configuration&gt;
    ...
    &lt;Property name=&quot;url&quot;&gt;jdbc:postgresql://localhost:5432/gregdb&lt;/Property&gt;
    &lt;Property name=&quot;userName&quot;&gt;gregadmin&lt;/Property&gt;
    &lt;Property name=&quot;password&quot;&gt;gregadmin&lt;/Property&gt;
    &lt;Property name=&quot;driverName&quot;&gt;org.postgresql.Driver&lt;/Property&gt;
    &lt;Property name=&quot;maxActive&quot;&gt;50&lt;/Property&gt;
    &lt;Property name=&quot;maxWait&quot;&gt;60000&lt;/Property&gt;
    &lt;Property name=&quot;minIdle&quot;&gt;5&lt;/Property&gt;
&lt;/Configuration&gt;
</pre>


<h2>3. Adicionando o Driver</h2>


<p>Para que nossa conexão com o banco funcione, temos que fazer o download do driver JDBC em <a title="PostgreSQL JDBC" href="http://jdbc.postgresql.org/download.html" target="_blank">http://jdbc.postgresql.org/download.html</a>, baixe a versão JDBC4 e depois copie o JAR para o diretório $GREG_HOME/repository/components/lib</p>


<h2>4. Criando a base</h2>


<p>Para finalizar, vamos criar as tabelas na base, para isso temos que iniciar o serviço do Registy com a opção -Dsetup.</p>


<pre class="brush: xml; title: ; notranslate">
./wso2server.sh -Dsetup
</pre>


<p><strong>ATENÇÃO:</strong> Essa opção só deve ser executada apenas uma vez</p>


<p>Vamos acessar o PgAdmin e verificar se as tabelas foram criadas</p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem5.png"><img class="aligncenter size-full wp-image-706" title="postgre_imagem5" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem5.png" alt="" width="275" height="347" /></a></p>


<h2>5. Configurando o DS, WSAS, ESB</h2>


<p>Depois de ter criado a base do Registry, podemos configurar os outros servers para se comunicar com a base Postgre. Basicamente é o mesmo processo temos que editar o arquivo registry.xml adicionando as configurações de conexão com o banco.</p>


<p><strong>Data Services </strong></p>


<ul>
<li>Abra o arquivo $DS_HOME/repository/conf/registry.xml e adicione a configuração do Postgre conforme descrito acima</li>
<li>Abra o arquivo $DS_HOME/repository/conf/user-mgt.xml e altere a configuração de conexão conforme descrito acima</li>
<li>adicione o jar no diretório $DS_HOME/repository/components/lib</li>
</ul>


<p><strong>Application Services</strong></p>


<ul>
<li>Abra o arquivo $WSAS_HOME/repository/conf/registry.xml e adicione a configuração do Postgre conforme descrito acima</li>
<li>Abra o arquivo $WSAS_HOME/repository/conf/user-mgt.xml e altere a configuração de conexão conforme descrito acima</li>
<li>adicione o jar no diretório $WSAS_HOME/repository/components/lib</li>
</ul>


<p><strong>Enterprise Service Bus</strong></p>


<ul>
<li>Abra o arquivo $ESB_HOME/repository/conf/registry.xml e adicione a configuração do Postgre conforme descrito acima</li>
<li>Abra o arquivo $ESB_HOME/repository/conf/user-mgt.xml e altere a configuração de conexão conforme descrito acima</li>
<li>adicione o jar no diretório $ESB_HOME/repository/components/lib</li>
</ul>


<p>Depois de alterado as configurações, podemos iniciar os serviços normalmente (sem a opção -Dsetup)</p>


<p>Agora nosso ambiente está configurado para usar o PostgreSQL, se você quiser usar o MySQL, Oracle, SQLServer como SGBD pode usar esses mesmos passos apenas alterando as configurações de conexão.</p>


<p>Até a próxima!</p>

]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Criando serviços com o WSO2 - Parte 3 - WSO2 ESB]]></title>
    <link href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-3-wso2-esb/"/>
    
    <updated>2010-10-13T00:00:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2010/10/criando-servicos-com-o-wso2-parte-3-wso2-esb</id>
    <content type="html"><![CDATA[<p>Hoje vamos finalizar o processo para criar um serviço com as ferramenta do WSO2, a última parte vamos publicar nosso serviço na BUS, dessa forma disponibilizando o serviço para nossos clientes.</p>

<p>No WSO2 ESB vamos criar um proxy service que será responsável por chamar nosso serviço Bussiness Service (WSO2 WSAS) que por sua vez vai chamar o nosso Data Service (WSO2 DS), essa parte é basicamente configuração não vamos codificar nenhuma linha de código.</p>

<p>Para expor nosso serviço na BUS vamos seguir os seguintes passos:</p>

<h2>1) Criar uma Sequence</h2>

<p>Um elemento de seqüência é usado para definir uma seqüência de mediadores que podem ser chamados mais tarde, nesse exemplo vamos criar uma sequence com um mediator de Log.</p>

<p>Entre na página de administração do ESB, selecione a opção Sequences.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem1.png"><img class="size-thumbnail wp-image-668 aligncenter" title="Menu para criar uma Sequence" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem1.png" alt="" /></a></p>

<p>Clique na opção Add Sequence</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem2.png"><img class="aligncenter size-medium wp-image-669" title="Adicionar uma Sequence" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem2.png" alt="" width="701" height="227" /></a></p>

<p>Na tela Design Sequence, coloque o nome da sequence como RecursoHumanoSequence e agora vamos adicionar a sequência que vai ser executada, em nosso exemplo temos somente um Log, para isso clique em Add Child -&gt; Core -&gt; Log</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem3.png"><img class="aligncenter size-medium wp-image-670" title="Configurar a sequence" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem3.png" alt="" width="705" height="393" /></a></p>

<p>Depois de configurado a sequence, clique em Save, nossa sequence será listada na tela Mediation Sequences</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem4.png"><img class="aligncenter size-medium wp-image-671" title="Listagem das sequences" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem4.png" alt="" width="710" height="245" /></a></p>

<h2>2) Criar um EndPoint</h2>

<p>Um EndPoint é um destino específico de uma mensagem, também podemos ativar as estatísticas de endpoints e WSDL dos endereços.</p>

<p><strong>Atenção:</strong> Para adicionar um Endpoint, vamos precisar acessar o WSAS para recuperar o endereço do Endpoint do nosso serviço, na página de administração do WSAS entre em List e no serviço RecursoHumanoServico clique na opção WSDL1.1</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem7.png"><img class="aligncenter size-medium wp-image-674" title="Recuperando o WSDL do WSAS" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem7.png" alt="" width="720" height="285" /></a></p>

<p>O browser será aberto com o WSDL do serviço, no final está as configurações do Endpoint, copie esse endereço para que possamos colar na tela de criação do Endpoint na ESB.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem8.png"><img class="aligncenter size-full wp-image-675" title="Recuperando o EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem8.png" alt="" width="740" height="378" /></a></p>

<p>Agora vamos voltar ao administrador da ESB, clique na opção Endpoints</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem5.png"><img class="aligncenter size-full wp-image-672" title="Menu para criar o EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem5.png" alt="" /></a></p>

<p>Na nova tela, clique em Address Endpoint</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem6.png"><img class="aligncenter size-medium wp-image-673" title="Adicionar um EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem6.png" alt="" width="711" height="239" /></a></p>

<p>Adicione um nome RecursoHumanoEndPoint e coloque o endereço do Endpoint que recuperamos no WSAS, clique no botão Test para verificar a comunicação entre a ESB e o WSAS</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem9.png"><img class="aligncenter size-full wp-image-676" title="Configurando o EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem9.png" alt="" width="718" height="258" /></a></p>

<p>Clique em Save</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem10.png"><img class="aligncenter size-full wp-image-677" title="Salvando o EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem10.png" alt="" width="720" height="184" /></a></p>

<p>Veja nosso Endpoint na listagem</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem11.png"><img class="aligncenter size-full wp-image-678" title="Listagem dos EndPoints" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem11.png" alt="" width="721" height="192" /></a></p>

<h2>3) Criar o Proxy</h2>

<p>Clique na opção Add -&gt; Proxy Service</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem12.png"><img class="aligncenter size-full wp-image-679" title="Menu para criar um Proxy" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem12.png" alt="" /></a></p>

<p>Temos várias opções para criar proxy, clique na opção Custom Proxy</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem13.png"><img class="aligncenter size-full wp-image-680" title="Adicionar um Custom Proxy" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem13.png" alt="" width="722" height="258" /></a></p>

<p>Vamos configurar nosso proxy da sequinte maneira</p>

<ul>
<li>Proxy Service Name: RecursoHumanoServico</li>
<li>Publishing WSDL: Specify source URL</li>
<li>WSDL URI: Coloque o endereço do WSDL do WSAS, aonde verificamos anteriormente</li>
</ul>


<p>Depois clique em Next</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem14.png"><img class="aligncenter size-full wp-image-681" title="Configurando o Proxy" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem14.png" alt="" width="722" height="543" /></a></p>

<p>Nessa tela vamos configurar a Sequence e o Endpoint que ja criamos anteriormente.</p>

<ul>
<li>In Sequence Options: Selecione Import e na combo selecione a Sequence criada anteriormente</li>
<li>Endpoint Options: Selecione Import e na combo selecione o Endpoint criado anteriormente</li>
</ul>


<p>Depois clique em Next</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem15.png"><img class="aligncenter size-full wp-image-682" title="Referência a Sequence e ao EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem15.png" alt="" width="724" height="394" /></a></p>

<p>Nessa tela não alteramos nada, deixe as duas opções marcadas None, e clique em Finish</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem16.png"><img class="aligncenter size-full wp-image-683" title="Finalizar a configuração" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem16.png" alt="" width="719" height="384" /></a></p>

<p>Veja na listagem no nosso proxy criado.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem17.png"><img class="aligncenter size-full wp-image-684" title="Listagem dos Proxys" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem17.png" alt="" width="723" height="315" /></a></p>

<h2>4) Testando o serviço</h2>

<p>Para testar o serviço clique em Try this service, preencha o campo nome e clique no botão.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem18.png"><img class="aligncenter size-full wp-image-685" title="Teste  do serviço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem18.png" alt="" width="721" height="456" /></a></p>

<p>Quando clicamos no botão fazemos o seguinte caminho:</p>

<p> # A BUS recebe a requisição
 # Encaminha para o WSAS
 # Valida os dados
 # Chama o DS
 # Retorna os dados para o WSAS
 # Executa regra de negócio
 # Retorna os dados para a BUS</p>

<p>Vamos testar a Exception, não coloque nenhum valor para o parâmetro nome e clique no botão</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem19.png"><img class="aligncenter size-full wp-image-686" title="Teste da Exception" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem19.png" alt="" width="718" height="309" /></a></p>

<p>Nesse caso fizemos o seguinte caminho:</p>

<p> # A BUS recebe a requisição
 # Encaminha para o WSAS
 # Valida os dados
 # Retorna erro para a BUS</p>

<p>Chegamos ao fim desse peque How To de como criar um serviço usando as ferramenta do WSO2, espero que possa ter esclarecido as dúvidas. Se ainda tiverem alguma dúvida ou  alguma sugestão, critica favor entre em contato!</p>

<p>Um Abraço!</p>
]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Criando serviços com o WSO2 - Parte 2 - WSO2 WSAS]]></title>
    <link href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-2-wso2-wsas/"/>
    
    <updated>2010-10-05T00:00:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2010/10/criando-servicos-com-o-wso2-parte-2-wso2-wsas</id>
    <content type="html"><![CDATA[<p>Hoje vamos dar continuidade ao exemplo de como criar um serviço usando as ferramentas do WSO2, no post anterior criamos o Data Services, hoje estaremos criando o nosso Business Service e publicar no WSO2 WSAS.</p>


<p>O nosso Business Service será responsável por conter a regra de negócio do nosso serviço, ou seja, para uma determinada entrada vindo da BUS vamos consumir o Data Service aplicar a nossa regra de negócio e retornar os dados para a BUS. Esse é o momento onde vamos meter a mão na massa e codificar em Java.</p>


<p>Para consumir o Data Service vamos estar usando o Apache Axis2, que é um framework para contrução e consumo de webservices, portanto <a title="Axis2" href="http://ws.apache.org/axis2/download.cgi" target="_blank">clique aqui</a> e faça o download, a versão que estou usando é 1.5.1. Depois de concluído o download descompactar o arquivo e copiar para um diretório de sua preferência.</p>




<h3>Criando um Business Service</h3>




<p>1. Abra o Eclipse e vamos criar um novo projeto, clique em File -&gt; New -&gt; Project</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem1.png"><img class="aligncenter size-medium wp-image-542" title="Criando novo projeto Java" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem1.png" alt="" width="541" height="486" /></a></p>


<p>Na nova janela que abriu, selecione Java Project clique em Next.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem2.png"></a><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem2.png"><img class="aligncenter size-medium wp-image-543" title="Selecionar Java Project" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem2.png" alt="" width="462" height="374" /></a></p>


<p>Coloque o nome do projeto com <strong>RecursoHumanoServico</strong> depois clique em Finish</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem3.png"></a><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem3.png"><img class="aligncenter size-medium wp-image-544" title="Adicionando o nome do projeto" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem3.png" alt="" width="467" height="522" /></a></p>


<p>Para deixar nosso projeto mais organizado vamos criar duas Package, clique com o botão direito em cima da pasta src  e selecione a opção New -&gt; Package</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem4.png"><img class="aligncenter size-medium wp-image-545" title="Criando as packages" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem4.png" alt="" width="507" height="337" /></a></p>


<p>Coloque o nome do package de <strong>br.leandroprado.webservices.recursohumano</strong></p>


<p style="text-align: center;"><strong><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem5.png"><img class="aligncenter size-medium wp-image-546" title="Nome da Package" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem5.png" alt="" width="492" height="398" /></a><br />
</strong></p>


<p>Adicione mais um package com o nome de <strong>br.leandroprado.webservices.recursohumano.entidades</strong>, veja como seu projeto deve ficar depois de criado as duas packages<strong><br />
</strong></p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem6.png"><img class="aligncenter size-medium wp-image-547" title="Packages criadas" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem6.png" alt="" width="498" height="251" /></a></p>


<p>2. Depois de configurado o o projeto temos que adicionar as bibliotecas do Axis2 que vamos utilizar, clique em Project -&gt; Properties</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem8.png"><img class="aligncenter size-medium wp-image-548" title="Adicionando as bibliotecas" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem8.png" alt="" width="522" height="332" /></a></p>


<p>Na nova janela que abrir, clique em Java Build Path -&gt; Libraries</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem9.png"><img class="aligncenter size-medium wp-image-549" title="Selecionar External Jars" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem9.png" alt="" width="519" height="365" /></a></p>


<p>Clique no botão Add External JARs e vá até o diretório onde esta o Axis2, que baixamos anteriormente e selecione os seguintes JARs.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem10.png"><img class="aligncenter size-medium wp-image-550" title="Selecionando os Jars necessários" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem10.png" alt="" width="515" height="417" /></a></p>


<p>Veja que em Libraries foi adicionado os JARs do Axis2.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem11.png"><img class="aligncenter size-medium wp-image-551" title="Libraries adicionadas" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem11.png" alt="" width="526" height="368" /></a></p>


<p>3. Agora vamos começar a codificar o nosso serviço, clique com o botão direito em cima da package  <strong>br.leandroprado.webservices.recursohumano </strong>e selecione a opção New -&gt; Class</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem12.png"><img class="aligncenter size-medium wp-image-552" title="Criando uma nova classe" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem12.png" alt="" width="528" height="265" /></a></p>


<p>Coloque o nome da nova classe de RecursoHumanoServico e clique em Finish</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem13.png"><img class="aligncenter size-medium wp-image-553" title="Classe RecursoHumanoServico" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem13.png" alt="" width="428" height="460" /></a></p>


<p>Vamos criar outra classe dentro da package <strong>br.leandroprado.webservices.recursohumano.entidades </strong>chamada Funcionario</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem14.png"><img class="aligncenter size-medium wp-image-555" title="Classes criadas" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem14.png" alt="" width="411" height="216" /></a></p>


<p>Veja abaixo o conteúdo da classe Funcionario.java, ela contém os campos que o nosso DataService retorna.</p>




<pre class="brush: java; title: ; notranslate">
package br.leandroprado.webservices.recursohumano.entidades;

import java.util.Date;

public class Funcionario {

    private int codigo;
    private String nome;
    private String endereco;
    private String sexo;
    private String dataAniversario;

    public int getCodigo() {
        return codigo;
    }

    public void setCodigo(int codigo) {
        this.codigo = codigo;
    }

    public String getNome() {
        return nome;
    }

    public void setNome(String nome) {
        this.nome = nome;
    }

    public String getEndereco() {
        return endereco;
    }

    public void setEndereco(String endereco) {
        this.endereco = endereco;
    }

    public String getSexo() {
        return sexo;
    }

    public void setSexo(String sexo) {
        this.sexo = sexo;
    }

    public String getDataAniversario() {
        return dataAniversario;
    }

    public void setDataAniversario(String dataAniversario) {
        this.dataAniversario = dataAniversario;
    }
}
</pre>




<p>Agora vamos criar o serviço, na classe RecursoHumanoServico vamos adicionar um novo método onde vamos chamar o nosso método do DataService, veja abaixo o código;</p>




<pre class="brush: java; title: ; notranslate">
package br.leandroprado.webservices.recursohumano;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import javax.xml.namespace.QName;
import org.apache.axiom.om.OMAbstractFactory;
import org.apache.axiom.om.OMElement;
import org.apache.axiom.om.OMFactory;
import org.apache.axiom.om.OMNamespace;
import org.apache.axis2.addressing.EndpointReference;
import org.apache.axis2.client.Options;
import org.apache.axis2.client.ServiceClient;

import br.leandroprado.webservices.recursohumano.entidades.Funcionario;

public class RecursoHumanoServico {

    // endereco do WSDL do DataService
    private static EndpointReference rhEndpoint = new EndpointReference(&quot;http://10.0.2.15:9764/services/RecursoHumanoServico?wsdl&quot;);

    public Funcionario[] pesquisarFuncionario(String nome)
    {
        String nameSpace = &quot;http://webservices.leandroprado.com.br/DataServices/RecursoHumano/PesquisarFuncionario&quot;;
        String nomeMetodo = &quot;PesquisarFuncionario&quot;;

        List&lt;Funcionario&gt; lst = new ArrayList&lt;Funcionario&gt;();

        try {
                                      // verifica se o parametro esta preenchido
            if(nome != null)
            {
                if(nome.equals(&quot;&quot;))
                    throw new Exception(&quot;Campo Nome é obrigatório!&quot;);
            }
            else
                throw new Exception(&quot;Campo Nome é obrigatório!&quot;);

            // cria os parametros do servico com o EndPoint e o método que queremos usar
            Options options = new Options();
            options.setTo(rhEndpoint);
            options.setAction(&quot;urn:&quot; + nomeMetodo);

            // cria um client para o servico
            ServiceClient sender = new ServiceClient();
            sender.setOptions(options);

            // para criar os parametros de entrada do servico
            OMFactory fac = OMAbstractFactory.getOMFactory();
            OMNamespace omNs = fac.createOMNamespace(
                            nameSpace,    // namespace do método
                             nomeMetodo); // nome do método que vamos invocar
            OMElement payload = fac.createOMElement(nomeMetodo, omNs);

            // seta o nome dos parametros de entrada e seu conteudo
            OMElement param = fac.createOMElement(&quot;Nome&quot;, omNs);
            param.setText(&quot;%&quot; + nome + &quot;%&quot;);
            payload.addChild(param);

            // Executa o DataService
            OMElement result = sender.sendReceive(payload);

            // Recupeara o retorno
            Iterator rows = result.getChildElements();

            // Enquanto houver linhas no retorno
            while (rows.hasNext()) {
                OMElement row = (OMElement) rows.next();

                // recupera os elementos
                OMElement codigo = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;CodigoFuncionario&quot;));
                OMElement nme = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;NomeFuncionario&quot;));
                OMElement endereco = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;EnderecoFuncionario&quot;));
                OMElement sexo = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;SexoFuncionario&quot;));
                OMElement dataAniver = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;DataAniversario&quot;));

                // cria um objeto do tipo Funcionario
                Funcionario _fun = new Funcionario();
                _fun.setCodigo(Integer.parseInt(codigo.getText()));
                _fun.setNome(nme.getText());
                _fun.setEndereco(endereco.getText());
                _fun.setSexo(sexo.getText());
                _fun.setDataAniversario(dataAniver.getText());

                // Adiciona na lista
                lst.add(_fun);
            }
        }
        catch(Exception ex)
        {
            throw new RuntimeException(ex.getMessage());
        }

        // verifica se a lista possui elementos
        if(lst.size() &gt; 0)
            return lst.toArray(new Funcionario[lst.size()-1]);
        else
            return lst.toArray(new Funcionario[0]);
    }
}
</pre>


<p>4. Agora vamos publicar o serviço no WSO2 WSAS, primeiro de tudo temos que iniciar os serviços WSO2 DataServices e WSO2 WSAS, já vimos no post <a href="http://www.leandroprado.com.br/2010/07/criando-um-ambiente-soa-com-wso2/" target="_blank">Criando um ambiente SOA com WSO2</a> como criar o ambiente e iniciar os serviços.</p>


<p>Uma das maneiras de fazer o deploy de um serviço para o WSAS é exportar nosso serviço para um arquivo .jar, então  clique com o botão direito em cima do projeto RecursoHumanoServico e selecione a opção Export.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem15.png"><img class="aligncenter size-medium wp-image-565" title="Exportar o serviço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem15.png" alt="" width="517" height="362" /></a></p>


<p>Selecione a opção Jar File, e clique em Next</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem16.png"><img class="aligncenter size-medium wp-image-565" title="Selecione Jar File" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem16.png" alt="" width="511" height="409" /></a></p>


<p>Agora selecione em qual diretório vamos salvar o arquivo .jar, nesse caso estou salvando no Desktop e clique em Finish</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem17.png"><img class="aligncenter size-medium wp-image-565" title="Selecione o local para salvar o Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem17.png" alt="" width="431" height="395" /></a></p>


<p>Acessando nosso diretório Desktop o arquivo exportado.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem18.png"><img class="aligncenter size-medium wp-image-565" title="Arquivo Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem18.png" alt="" width="397" height="128" /></a></p>


<p>Agora vamos fazer o Deploy do arquivo .jar para o WSAS, acessar o console de administração do WSAS e selecionar a opção Services -&gt; Add -&gt; Jar Service</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem19.png"><img class="aligncenter size-medium wp-image-571" title="Selecionar a opção Jar Service" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem19.png" alt="" width="203" height="300" /></a></p>


<p>Coloque o nome do seu serviço e procure o arquivo .jar que exportamos anteriormente, e clique em Next</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem20.png"><img class="aligncenter size-medium wp-image-571" title="Adicionando o Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem20.png" alt="" width="526" height="162" /></a></p>


<p>Na próxima tela temos que selecionar qual classe que queremos expor como serviço, em nosso exemplo é a classe RecursoHumanoServico.java, não esqueça de selecionar o escopo que é SOAP, depois clique em Next</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem21.png"><img class="aligncenter size-medium wp-image-571" title="Configurando o Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem21.png" alt="" width="526" height="129" /></a></p>


<p>Selecione os métodos que deseja disponibilizar no serviço, em nosso exemplo só temos um método, mas se tivesse vários métodos poderiamos selecionar quais deles vamos disponibilizar para consumo, depois clique em Finish.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem22.png"><img class="aligncenter size-medium wp-image-571" title="Métodos do Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem22.png" alt="" width="525" height="115" /></a></p>


<p>Se tudo ocorrer sem erros, uma mensagem será exibida e o nosso serviço vai aparecer na lista, veja abaixo:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem23.png"><img class="aligncenter size-medium wp-image-571" title="Serviço adicionado" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem23.png" alt="" width="536" height="219" /></a></p>


<p>Vamos testar nosso método, clique em Try this Service , preencha o parâmetro nome e clique no botão, o seguinte resultado deverá ocorrer:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem24.png"><img class="aligncenter size-medium wp-image-571" title="Testando o servço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem24.png" alt="" width="539" height="293" /></a></p>


<p>Vamos testar se a nossa validação está sendo executada, se invocar o método sem nenhum valor para o parâmetro nome, deve retornar um erro, veja abaixo:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem25.png"><img class="aligncenter size-medium wp-image-571" title="Testando a Exception" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem25.png" alt="" width="525" height="159" /></a></p>


<h3>Conclusão</h3>


<p>Podemos ver que para criar um BusinessServer usando o WSAS não tem muito segredo, para quem ja programa em JAVA não vai ter nehuma dificuldade.</p>


<p>O que podemos fazer para facilitar o consumo é criar um componente onde só passamos o método que queremos consumir e ele nos retorna um objeto criado, fica por conta de vocês aprimorar esse código.</p>


<p>O WSO2 lançou um plugin para o Eclipse que cria serviços para o WSAS, com esse plugin é possível fazer debug dos nossos métodos, dessa forma facilitando o desenvolvimento para o programador.</p>


<p><a href="http://wso2.org/library/tutorials/create-axis2-web-service-in-3-steps-using-eclipse" target="_blank">Create an Axis2 Web Service in 3 Steps Using Eclipse</a></p>


<p><a href="http://wso2.org/library/tutorials/debug-your-axis2-web-service-3-steps-using-eclipse" target="_blank">How to Debug Your Axis2 Web Service in 3 Steps Using Eclipse</a></p>


<p>No próximo post estaremos criando a camada da BUS, vamos criar um proxy para disponibilizar os serviços aos nossos clientes.</p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/RecursoHumanoServico.zip" target="_blank">Download Parte 2</a></p>


<p>Até a próxima!</p>

]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Criando serviços com o WSO2 - Parte 1 - WSO2 Data Services]]></title>
    <link href="http://www.leandroprado.com.br/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services/"/>
    
    <updated>2010-09-22T00:00:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services</id>
    <content type="html"><![CDATA[<p><img class="alignleft size-thumbnail wp-image-490" title="WSO2 Logo" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/logo_wso2.jpg" alt="" width="200" height="100" />Depois de publicar o post <a title="Criando um ambiente SOA com WSO2" href="http://www.leandroprado.com.br/2010/07/criando-um-ambiente-soa-com-wso2/" target="_blank">Criando um ambiente SOA com WSO2</a> estamos recebendo vários emails e comentários de usuários que estão com diversas dúvidas e como usar as ferramentas do WSO2 integrada, por esse motivo, hoje vamos começar uma série de posts explicativos de como criar um serviço completo (DS, WSAS, BUS) usando as ferramentas WSO2.</p>


<p>Antes de começar vamos entender a arquitetura que vamos estar utilizando, veja abaixo:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/arquitetura.png"><img class="size-thumbnail wp-image-492 aligncenter" title="Arquitetura do ambiente" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/arquitetura.png" alt="" width="326" height="326" /></a></p>


<ul>
<li>DataService será responsável por recuperar as informações em uma origem de dedos, pode ser um banco de dados (MySQL, Postegres, SQLServer, Oracle, etc&#8230;) pode ser em um arquivo XML ou em um arquivo CSV.</li>
<li>Application Server que será responsável por fazer a orquestração dos nossos serviços e pela regra de negócio</li>
<li>BUS será responsável por expor nosso serviços para os clientes (Mobile, Portals, Desktop, etc&#8230;)</li>
</ul>


<p>O nosso cenário para o serviço de teste será um cadastro de funcionário para o setor de RH de uma empresa, vamos estar utilizando o banco de dados MySQL 5. Então mãos no teclado!!</p>


<h3>Criando a Base de Dados</h3>


<pre class="brush: sql; title: ; notranslate">

create database rh;
use rh;

CREATE TABLE funcionario (
  id_funcionario int(10) NOT NULL AUTO_INCREMENT,
  nome_funcionario varchar(100) NOT NULL,
  endereco_funcionario varchar(100) NOT NULL,
  sexo_funcionario char(1) NOT NULL,
  data_aniversario datetime NOT NULL,
  PRIMARY KEY (id_funcionario),
  UNIQUE KEY PK_Funcionario (id_funcionario)
);

INSERT INTO funcionario (nome_funcionario, endereco_funcionario, sexo_funcionario, data_aniversario) VALUES ('Leandro Prado 1', 'Rua xyz 367', 'M', '2000-10-10');
INSERT INTO funcionario (nome_funcionario, endereco_funcionario, sexo_funcionario, data_aniversario) VALUES ('Leandro Prado 2', 'Rua xyz 367', 'M', '2000-10-10');

</pre>


<h3>Criando um WSO2 DataService</h3>


<p>1. Dentro do Management Console do DataService clique no menu DataServices -&gt; Create</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem1.png"><img class="aligncenter size-medium wp-image-502" title="Selecione a opção Create" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem1.png" alt="" width="136" height="300" /></a></p>


<p>2. Coloque no nome e a descrição do Serviço e clique em Next</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem2.png"><img class="aligncenter size-medium wp-image-503" title="Adicione o nome do Serviço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem2.png" alt="" width="514" height="190" /></a></p>


<p>3. Agora vamos adionar a nossa fonte de dados, selecione Add New Data Source</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem3.png"><img class="aligncenter size-medium wp-image-505" title="Adicione uma fonte de dados" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem3.png" alt="" width="514" height="107" /></a></p>


<p>4. Na tela de configuração do DataSource temos os seguintes campos:</p>


<ul>
<li>DataSource id:</li>
<li>DataSource Type:</li>
<li>Database Engine:</li>
<li>Driver Class:</li>
<li>JDBC URL:</li>
<li>User Name:</li>
<li>Password:</li>
<li>Min. Pool Size:</li>
<li>Max. Pool Size:</li>
<li>AutoCommit:</li>
</ul>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem4.png"><img class="aligncenter size-medium wp-image-504" title="Configurando o MySQL" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem4.png" alt="" width="512" height="279" /></a></p>


<p>Clique no botão Test Connection para verificar se a conexão com o banco está correta.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem5.png"><img class="aligncenter size-medium wp-image-507" title="Testando a conexão com o BD" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem5.png" alt="" width="513" height="279" /></a></p>


<p>Se esse o erro acima ocorrer significa que está faltando o jar de conexão com o MySQL, então acesse esse <a title="MySQL Connector" href="http://www.mysql.com/downloads/connector/j/" target="_blank">link</a> e baixe o conector e copie o jar para a pasta  wso2/wso2dataservices-2.2.1/repository/components/lib e depois restart o  serviço do WSO2 DataServices.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem6.png"><img class="aligncenter size-medium wp-image-508" title="Adicionando a fonte de Dados" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem6.png" alt="" width="513" height="278" /></a></p>


<p>5. Na próxima tela vamos criar as querys que nosso serviço vai executar</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem18.png"><img class="aligncenter size-medium wp-image-509" title="Criando uma nova query" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem18.png" alt="" width="512" height="88" /></a></p>


<p>6. Na tela para adicionar uma nova query temos os seguintes campos:</p>


<ul>
<li>Query ID:</li>
<li>Data Source:</li>
<li>SQL:</li>
<li>Input Mappging</li>
<li>Grouped by element:</li>
<li>Row name:</li>
<li>Row namespace:</li>
<li>Output Mappging:</li>
</ul>


<p>7. Se sua query possuir parâmetros de entrada deve ser adicionado clicando no botão Input Mappings, essa tela possui os seguintes campos:</p>


<ul>
<li>Mapping Name</li>
<li>SQL Type</li>
<li>IN/OUT Type</li>
<li>Ordinal</li>
</ul>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem8.png"><img class="aligncenter size-medium wp-image-514" title="Adicionando os parâmetros de entrada" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem8.png" alt="" width="513" height="210" /></a></p>


<p>8. Para recuperar os dados de retorno da sua query clique no botão Output Mappings e adicione os campos que deseja retornar, essa tela possui os seguintes campos:</p>


<ul>
<li>Mapping Type</li>
<li>Output field name</li>
<li>Data source column Name</li>
<li>Schema Type</li>
<li>Allowed User Roles</li>
</ul>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem81.png"></a><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem9.png"><img class="aligncenter size-medium wp-image-517" title="Adicionando os parâmetros de saída" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem9.png" alt="" width="510" height="302" /></a></p>


<p>Veja como vai ficar com todos nossos campos de saída mapeados</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem10.png"><img class="aligncenter size-medium wp-image-518" title="Mapeamento da query" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem10.png" alt="" width="513" height="321" /></a></p>


<p>9. Na próxima tela é para adicionar as operações (métodos) do serviço, cada query vai ter uma operação:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem13.png"><img class="aligncenter size-medium wp-image-522" title="Criando os métodos" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem13.png" alt="" width="530" height="100" /></a></p>


<p>10. Na tela Add New Operation temos um campo para colocar o nome da operação (método) e uma combo para selecionar qual query essa operação vai chamar</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem14.png"><img class="aligncenter size-medium wp-image-523" title="Adicionando uma nova operação" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem14.png" alt="" width="512" height="177" /></a></p>


<p>Veja como fica a nossa operação PesquisarFuncionario.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem15.png"><img class="aligncenter size-medium wp-image-524" title="Operação PesquisarFuncionario" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem15.png" alt="" width="513" height="115" /></a></p>


<p>11. Clique em Finish para criar o nosso DataService, não precisamos preencher os Resources. Veja que nosso serviço já é listado.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem16.png"><img class="aligncenter size-medium wp-image-526" title="Serviço adicionado" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem16.png" alt="" width="513" height="144" /></a></p>


<p>12. Vamos fazer o teste para verificar se tudo está correto e funcionando, clique em Try this service</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem17.png"><img class="aligncenter size-medium wp-image-527" title="Testando o serviço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem17.png" alt="" width="510" height="212" /></a></p>


<h3>Conclusão</h3>


<p>Criar DataServices usando a ferramenta do WSO2 é muito fácil, intuitivo e produtivo, em apenas alguns minutos conectamos na base de dados, fazemos uma query e retornamos os dados via XML sem escrever nenhuma linha de código.</p>


<p>Os serviços de DataServices também pode ser criados através de um plugin para o eclipse, <a title="WSO2 Data Services Plugin" href="http://wso2.org/library/tutorials/create-dataservice-with-eclipse-dataservice-plugin" target="_blank">veja aqui</a>.</p>


<p>No próximo post estaremos criando a camada de negócio usando o WSAS</p>


<p>Até a próxima!</p>

]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Criando um ambiente SOA com WSO2]]></title>
    <link href="http://www.leandroprado.com.br/2010/07/criando-um-ambiente-soa-com-wso2/"/>
    
    <updated>2010-07-15T00:00:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2010/07/criando-um-ambiente-soa-com-wso2</id>
    <content type="html"><![CDATA[<p style="text-align: justify;">Nesse post vou descrever como criar um ambiente SOA completo usando as ferramentas WSO2.</p>


<p style="text-align: justify;">O ambiente que estou usando é Ubuntu 10 como Java 6 (esse tutorial parte do princípio que o Ubuntu e o Java já estão instalados e configurados)</p>


<h3>Passo 1- Criar diretório</h3>


<p>Vamos criar um diretório onde vamos instalar todas as ferramentas do WSO2</p>


<pre class="brush:java">     cd /home/leandro-prado
     mkdir wso2
     cd wso2/
     pwd
     /home/leandro-prado/wso2</pre>


<h3>Passo 2 &#8211; WSO2 Governance Registry</h3>


<p style="text-align: justify;">Baixar o arquivo em <a title="WSO3 Governance Registry" href="http://wso2.com/products/governance-registry/" target="_blank">http://wso2.com/products/governance-registry/</a> (a versão que usamos foi a 3.5.0) descompactar e depois mover para o diretório criado acima</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2greg-3.5.0.zip
     mv wso2greg-3.5.0 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2greg-3.5.0/bin/
     ./wso2server.sh</pre>


<p style="text-align: justify;">Para iniciar o serviço entrar no diretório bin e executar o arquivo wso2server.sh, se tudo ocorrer sem erros, a seguinte saída deverá ser exibida no console</p>


<pre class="brush:java">     [2010-06-05 17:46:15,887]  INFO -  Connection established with the registry
     [2010-06-05 17:46:16,732]  INFO -  HTTPS port       : 9443
     [2010-06-05 17:46:16,761]  INFO -  HTTP port        : 9763
     [2010-06-05 17:46:18,911]  INFO -  Successfully Initialized Eventing on Registry
     [2010-06-05 17:46:27,749]  INFO -  Mgt Console URL  : https://10.0.2.15:9443/carbon/
     [2010-06-05 17:46:28,702]  INFO -  Started Transport Listener Manager
     [2010-06-05 17:46:28,703]  INFO -  Server           :  WSO2 Governance Registry-3.5.0
     [2010-06-05 17:46:28,703]  INFO -  WSO2 Carbon started in 65 sec</pre>


<p>Agora podemos acessar o browser e verificar se esta tudo correto:</p>


<p>Endereco: https://10.0.2.15:9443/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/06/GovernanceRegistry.png"><img class="size-medium wp-image-165 aligncenter" title="WSO2 Governance Registry" src="http://www.leandroprado.com.br/wp-content/uploads/2010/06/GovernanceRegistry-300x187.png" alt="" width="300" height="187" /></a></p>


<h3>Passo 3 &#8211; WSO2 Data Services</h3>


<p style="text-align: justify;">Agora vamos instalar o Data Service, baixar o arquivo em <a title="WSO2 Data Services" href="http://wso2.com/products/data-services-server/" target="_blank">http://wso2.com/products/data-services-server/</a> (a versão que usamos foi a 2.2.1) descompactar e depois mover para o diretório criado no passo 1, podemos perceber que a intalação é igual para todas as ferramentas.</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2dataservices-2.2.1.zip
     mv wso2dataservices-2.2.1 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2dataservices-2.2.1/bin/
     ./wso2server.sh</pre>


<p style="text-align: justify;">Quando mandamos iniciar o servidor do Data Service pela primeira vez vamos receber o seguinte erro:</p>


<pre class="brush:java">     [2010-06-05 18:43:35,233]  INFO -  Repository       : /home/leandro-prado/wso2/wso2dataservices-2.2.1/repository/
     [2010-06-05 18:43:35,720]  INFO -  HTTPS port       : 9443
     [2010-06-05 18:43:35,721]  INFO -  HTTP port        : 9763
     [2010-06-05 18:43:35,954] ERROR -  Error initializing endpoint
     java.net.BindException: Address already in use:9443</pre>


<p style="text-align: justify;">Esse erro ocorre porque a porta 9443 ja esta sendo usanda pelo WSO2 Governance Registry, por esse motivo temos que configurar manualmente outra porta para o Data Service, para isso temos que editar o arquivo transports.xml que fica na pasta conf</p>


<pre class="brush:java">     cd ..
     cd conf/
     sudo gedit transports.xml</pre>


<p style="text-align: justify;">Temos que alterar o parâmetro port tanto para HTTP e HTTPS, essa configuração está na a linha 3 e na linha 30  e depois iniciar o serviço novamente, conforme abaixo:</p>


<pre class="brush:java">     &lt;parameter name="port"&gt;9764&lt;/parameter&gt;
     &lt;parameter name="port"&gt;9444&lt;/parameter&gt;
     cd ..
     cd bin/
     ./wsoeserver.sh</pre>


<p style="text-align: justify;">Se tudo ocorrer sem erros a seguinte saída devera ser exibida no console:</p>


<pre class="brush:java">     [2010-07-03 00:21:01,928]  INFO -  Initializing transport descriptions and their associated parameters
     [2010-07-03 00:21:01,992]  INFO -  Repository       : /home/leandro-prado/wso2/wso2dataservices-2.2.1/repository/
     [2010-07-03 00:21:02,363]  INFO -  HTTPS port       : 9444
     [2010-07-03 00:21:02,363]  INFO -  HTTP port        : 9764
     [2010-07-03 00:21:04,398]  INFO -  Mgt Console URL  : https://10.0.2.15:9444/carbon/
     [2010-07-03 00:21:04,399]  INFO -  Started Transport Listener Manager
     [2010-07-03 00:21:04,399]  INFO -  Server           :  WSO2 Data Services-2.2.1
     [2010-07-03 00:21:04,400]  INFO -  WSO2 Carbon started in 50 sec</pre>


<p style="text-align: justify;">Para ver se tudo esta correto podemos acessar o administrador do Data Service no browser.</p>


<p>Endereço: https://10.0.2.15:9444/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/07/DataServices.png"><img class="aligncenter size-medium wp-image-182" title="WSO2 Data Services" src="http://www.leandroprado.com.br/wp-content/uploads/2010/07/DataServices-300x187.png" alt="" width="300" height="187" /></a></p>


<h3>Passo 4 &#8211; WSO2 Application Server</h3>


<p style="text-align: justify;">Agora vamos instalar o Application Server, baixar o arquivo em <a href="http://wso2.com/products/web-services-application-server/" target="_blank">http://wso2.com/products/web-services-application-server/</a> (a versão que usamos foi a 3.2.0) para instalar seguir o mesmo padrão, descompactar, mover para o diretório, configurar o arquivo transports.xml (port HTTP 9445 e HTTPS 9765) e iniciar o serviço</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2wsas-3.2.0.zip
     mv wso2wsas-3.2.0 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2wsas-3.2.0
     cd repository/conf
     gedit mgt-transports.xml
     cd ../../bin
     ./wso2server.sh</pre>


<p style="text-align: justify;">Se tudo ocorrer sem erros a seguinte saída devera ser exibida no console:</p>


<pre class="brush:java">     [2010-07-03 00:49:45,404]  INFO -  Repository       : /home/leandro-prado/wso2/wso2wsas-3.2.0/repository/deployment/server/
     [2010-07-03 00:49:45,657]  INFO -  Connection established with the registry
     [2010-07-03 00:49:47,821]  INFO -  HTTPS port       : 9445
     [2010-07-03 00:49:47,829]  INFO -  HTTP port        : 9765
     [2010-07-03 00:49:50,774]  INFO -  Mgt Console URL  : https://10.0.2.15:9445/carbon/
     [2010-07-03 00:49:50,787]  INFO -  Started Transport Listener Manager
     [2010-07-03 00:49:50,795]  INFO -  Server           :  WSO2 WSAS-3.2.0
     [2010-07-03 00:49:50,796]  INFO -  WSO2 Carbon started in 33 sec</pre>


<p style="text-align: justify;">Para ver se tudo esta correto podemos acessar o administrador do Application Server no browser.</p>


<p>Endereco: https://10.0.2.15:9445/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/07/ApplicationServer.png"><img class="aligncenter size-medium wp-image-187" title="WSO2 Application Server" src="http://www.leandroprado.com.br/wp-content/uploads/2010/07/ApplicationServer-300x187.png" alt="" width="300" height="187" /></a></p>


<h3>Passo 5 &#8211; WSO2 Enterprise Service Bus</h3>


<p style="text-align: justify;">Agora vamos instalar a BUS, baixar o arquivo em <a href="http://wso2.com/products/web-services-application-server/" target="_blank">http://wso2.com/products/enterprise-service-bus/</a> (a versão que usamos foi a 3.0.0) novamente a instalação segue o mesmo padrão, descompactar, mover para o diretório, configurar o arquivo transports.xml (port HTTP 9446 e HTTPS 9766) e iniciar o serviço</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2esb-3.0.0.zip
     mv wso2esb-3.0.0 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2esb-3.0.0
     cd repository/conf
     gedit mgt-transports.xml
     cd ../../bin
     ./wso2server.sh</pre>


<p style="text-align: justify;">Se tudo ocorrer sem erros a seguinte saída devera ser exibida no console:</p>


<pre class="brush:java">     [2010-07-03 01:15:19,725]  INFO - CarbonUIServiceComponent Mgt Console URL  : https://10.0.2.15:9446/carbon/
     [2010-07-03 01:15:19,783]  INFO - StartupFinalizerServiceComponent Started Transport Listener Manager
     [2010-07-03 01:15:19,784]  INFO - StartupFinalizerServiceComponent Server           :  WSO2 ESB-3.0.0
     [2010-07-03 01:15:19,784]  INFO - StartupFinalizerServiceComponent WSO2 Carbon started in 114 sec</pre>


<p style="text-align: justify;">Para ver se tudo esta correto podemos acessar o administrador do Application Server no browser.</p>


<p>Endereco: https://10.0.2.15:9446/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/07/EnterpriseServiceBus.png"><img class="aligncenter size-medium wp-image-191" title="WSO2 Enterprise Service Bus" src="http://www.leandroprado.com.br/wp-content/uploads/2010/07/EnterpriseServiceBus-300x187.png" alt="" width="300" height="187" /></a></p>


<h3>Passo 6 &#8211; WSO2 Business Activity Monitor</h3>


<p>Agora vamos instalar a BAM, baixar o arquivo em <a href="http://wso2.com/products/business-activity-monitor/">http://wso2.com/products/business-activity-monitor/</a> (a versão que usamos foi a 1.0.1) novamente a instalação segue o mesmo padrão, descompactar, mover para o diretório, configurar o arquivo transports.xml (port HTTP 9447 e HTTPS 9767) e iniciar o serviço.</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2bam-1.0.1.zip
     mv wso2bam-1.0.1 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2bam-1.0.1
     cd conf/
     gedit transports.xml
     cd ../bin
     ./wso2server.sh</pre>


<p style="text-align: justify;">Se tudo ocorrer sem erros a seguinte saída devera ser exibida no console:</p>


<pre class="brush:java">     [2010-07-07 16:06:32,854]  INFO -  Connection established with the registry
     [2010-07-07 16:06:33,816]  INFO -  Successfully Initialized Eventing on Registry
     [2010-07-07 16:06:47,166]  INFO -  Mgt Console URL  : https://10.0.2.15:9447/carbon/
     [2010-07-07 16:06:47,167]  INFO -  Started Transport Listener Manager
     [2010-07-07 16:06:47,168]  INFO -  Server           :  WSO2 Business Activity Monitor-1.0.1
     [2010-07-07 16:06:47,168]  INFO -  WSO2 Carbon started in 96 sec</pre>


<p>Para ver se tudo esta correto podemos acessar o administrador da BAM no browser.</p>


<p>Endereco: https://10.0.2.15:9447/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/07/BAM.png"><img class="aligncenter size-medium wp-image-230" title="WSO2 Business Activity Monitor" src="http://www.leandroprado.com.br/wp-content/uploads/2010/07/BAM-300x187.png" alt="" width="300" height="187" /></a></p>


<p>Podemos ver como é fácil instalar as ferrametas do WSO2, nos próximos posts vamos configurar os servers para se conectar com o baco de dados MySQL.</p>


<p>Até a próxima!</p>

]]></content>
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Compilando o WSO2 Carbon 3.0.0 e corrigindo o WSO2 Data  Services Server 2.5.0]]></title>
    <link href="http://wso2brasil.com.br/blog/2010/06/compilando-o-wso2-carbon-3-0-0-e-corrigindo-o-wso2-data-services-server-2-5-0/"/>
    
    <updated>2010-06-16T10:17:12-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2010/06/compilando-o-wso2-carbon-3-0-0-e-corrigindo-o-wso2-data-services-server-2-5-0</id>
    <content type="html"><![CDATA[<p><img src="http://assets.mcorp.com.br/wp-content/uploads/2010/06/wso2-data-services-server.gif" alt="" />Versões novas de produtos sempre são uma alegria, seja pelos
recursos novos ou somente pela novidade que sempre alegra-nos, principalmente
nós desenvolvedores. Mas juntamente com as novas versões (principalmente nos
primeiros releases) vem também problemas, bugs ou incompatibilidade de
versões- os problemas mais comuns.</p>

<p>E para não pararmos no tempo, vendo que <a href="http://wso2brasil.com.br/2010/04/novidades-do-proximo-wso2-data-services-server-2-5-x/">as novidades do WSO2 Data Services Server 2.5.0</a>
seriam muito bem vindas para nós, resolvemos realizar testes para verificar a
possibilidade de atualizarmos nossa versão da 2.2.1 para a 2.5.0, e surgiu
aquela alegria quando vimos que não teríamos problemas de incompatibilidade
como ocorreu nos testes de migração da 2.0 para <a href="http://wso2brasil.com.br/2009/12/testes-na-versao-2-2-0-do-wso2-data-services-server/">WSO2 Data Services Server 2.2.1</a>.</p>

<p>Mas como nem tudo são rosas, um velho <em>bug</em> conhecido nosso na versão 2.0 e
discutido no <a href="http://wso2.org/forum/thread/5349">fórum - de não aceitar valores <em>null</em></a>, tinha sido corrigido na versão
2.2.1; mas resolveu dar as caras na versão 2.5.0. E por necessitarmos das
novidades dessa versão, tivemos que correr atrás e corrigir o problema, já
corrigido anteriormente.</p>

<p><img src="http://assets.mcorp.com.br/wp-content/uploads/2010/06/wso2-carbon.gif" alt="" />Como já
conhecemos a estrutura, fomos direto ao site do projeto para realizar o
<a href="http://wso2.org/downloads/data-services-server">download do fonte do WSO2 Data Services Server</a> e fomos atrás do arquivo problemático (SQLQuery.java).
Mas para nossa surpresa, o arquivo não estava mais lá, foi centralizado no
projeto <a href="http://wso2.org/downloads/carbon">WSO2 Carbon</a>.</p>

<p>Então com o arquivo de <a href="http://dist.wso2.org/products/carbon/3.0.0/wso2carbon-3.0.0-src.zip">código-fonte do WSO2 Carbon
3.0.0</a>
devidamente baixado, vamos colocar a mão na massa.</p>

<h2>Baixando e descompactando o fonte</h2>

<pre><code>wget http://dist.wso2.org/products/carbon/3.0.0/wso2carbon-3.0.0-src.zip
unzip wso2carbon-3.0.0-src.zip
</code></pre>

<h2>Baixando e aplicando o <em>patch</em></h2>

<pre><code>wget /wp-content/uploads/2010/06/wso2-dataservices-accept-null.txt
cd wso2carbon-3.0.0-src patch -p1 wso2-dataservices-accept-null.patch
</code></pre>

<p>E a mensagem recebida aqui será algo como:</p>

<pre><code>patching file components/data-services/org.wso2.carbon.dataservices.core/3.0.0/src/main/java/org/wso2/carbon/dataservices/dispatch/query/SQLQuery.java
</code></pre>

<h2>Compilando o componente</h2>

<p>Levando em consideração que você tenha as dependências necessárias, vai ser um
passo bem demorado. Vai fazer download de alguns pacotes, compilar, testar e
gerar uma nova versão do componente, com a correção.</p>

<pre><code>cd components/data-services
mvn install
</code></pre>

<h2>Corrigindo o Data Services Server</h2>

<p>Agora que temos o componente corrigido e devidamente compilado, vamos copiá-lo
para a instância do WSO2 Data Services Server (levando em consideração que
minha instalação fica em ~/Applications/wso2/wso2dataservices-2.5.0).</p>

<pre><code>cp org.wso2.carbon.dataservices.core/3.0.0/target/org.wso2.carbon.dataservices.core-3.0.0.jar ~/Applications/wso2/wso2dataservices-2.5.0/wso2dataservices-2.5.0/repository/components/plugins/org.wso2.carbon.dataservices.core-3.0.0.jar
cp org.wso2.carbon.dataservices.ui/3.0.0/target/org.wso2.carbon.dataservices.ui-3.0.0.jar ~/Applications/wso2/wso2dataservices-2.5.0/wso2dataservices-2.5.0/repository/components/plugins/org.wso2.carbon.dataservices.ui-3.0.0.jar
</code></pre>

<h2>Conclusão</h2>

<p>Com o <em>patch</em> criado, testado e aplicado. Abrimos um <a href="https://wso2.org/jira/browse/CARBON-7589">pedido de correção no JIRA do WSO2</a>, para que eles possam
corrigir na próxima <em>release</em> (provavelmente a 2.5.1). Caso você não tenha
disponibilidade (de tempo ou paciência), pode baixar os componente do WSO2
Data Services Server corrigido (bastando apenas descompactá-los).</p>

<ul>
<li><a href="http://wso2brasil.com.br/wp-content/uploads/2010/06/carbon-dataservices-core-3.0.0.tar.gz">org.wso2.carbon.dataservices.core-3.0.0.jar</a></li>
<li><a href="http://wso2brasil.com.br/wp-content/uploads/2010/06/carbon-dataservices-ui-3.0.0.tar.gz">org.wso2.carbon.dataservices.ui-3.0.0.jar</a></li>
</ul>


<p>E tenho que falar, viva o código aberto e o software livre! (;</p>
]]></content>
  </entry>
  
</feed>
