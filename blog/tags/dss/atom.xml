<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: dss | WSO2Brasil]]></title>
  <link href="http://wso2brasil.com.br/blog/tags/dss/atom.xml" rel="self"/>
  <link href="http://wso2brasil.com.br/"/>
  <updated>2013-10-04T17:56:44-03:00</updated>
  <id>http://wso2brasil.com.br/</id>
  <author>
    <name><![CDATA[WSO2Brasil]]></name>
    <email><![CDATA[leonardo@wso2brasil.com.br]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Treinamento: Celepar]]></title>
    <link href="http://wso2brasil.com.br/blog/2012/11/treinamento-celepar/"/>
    <updated>2012-11-08T20:06:00-02:00</updated>
    <id>http://wso2brasil.com.br/blog/2012/11/treinamento-celepar</id>
    <content type="html"><![CDATA[<p>Aplicamos um pequeno treinamento/apresentação nos dias 07 e 08/11 na <a href="http://www.celepar.pr.gov.br/">Celepar</a>, Companhia de Informática do Paraná, os
temas abordados foram os usos das ferramentas <a href="http://wso2.com/products/data-services-server/">WSO2 Data Service</a>, <a href="http://wso2.com/products/application-server/">WSO2 Application Server</a> e <a href="http://wso2.com/products/enterprise-service-bus/">WSO2 Enterprise Service Bus</a>.</p>

<p>Falamos sobre como funciona o tal do "<a href="/glossario/#SOA">SOA</a>", passamos num geral sobre as funcionabilidades das ferramentas e, por fim, simulamos
um pequeno <em>case</em> utilizando as ferramentas citadas anteriormente.</p>

<p>Estiveram presentes membros de diversas equipes da empresa: infra-estrutura, desenvolvedores, responsáveis por novas tecnologias
e algumas outras áreas mais específicas. Elas serão usadas como "cobaias" para a implementação dos primeiros <em>cases</em> da empresa.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2012/11/treinamento-celepar.jpg"><img class="center" src="http://assets.mcorp.com.br/wp-content/uploads/2012/11/treinamento-celepar-400x300.jpg" width="400" height="300"></a></p>

<p>Um muito obrigado a todos os envolvidos.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WSO2 Data Services Server e suas atualizações]]></title>
    <link href="http://wso2brasil.com.br/blog/2011/10/wso2-data-services-server-e-suas-atualizacoes/"/>
    <updated>2011-10-06T15:58:00-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2011/10/wso2-data-services-server-e-suas-atualizacoes</id>
    <content type="html"><![CDATA[<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/10/testes-e-a-neura.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/10/testes-e-a-neura.jpg" alt="" /></a></p>

<p>Se tem uma tarefa que toma muito tempo nosso, são os testes quando sai versão nova de algum produto do <a href="http://wso2.org">WSO2</a>.</p>

<p>Estamos trabalhando na migração do <a href="/tag/data-services/">WSO2 Data Services Server</a> <a href="/2010/04/novidades-do-proximo-wso2-data-services-server-2-5-x/">2.5.1</a> para a <a href="/2011/06/novidades-wso2-data-services-server-2-6-x/">2.6.0</a> e isso gera uma árdua tarefa de testar todos os serviços que temos rodando, que rodam com diferentes banco de dados (<a href="http://dev.mysql.com">MySQL</a>, <a href="http://www.postgresql.org">PostgreSQL</a>, <a href="http://www.microsoft.com/sqlserver/">SQL Server</a>, <a href="http://www.oracle.com/br/">Oracle</a>).</p>

<p>Na maioria das vezes não encontramos problema algum ou apenas uma pequena
mudança de atributo ou <em>tag</em> na definição dos .dbs. Mas as vezes encontramos
problemas que fogem da simples configuração do data service, e como aconteceu
agora conosco: um <em>bug</em>.</p>

<p>Para tentar minimizar esse trabalho gerei um projeto que tem a ideia de
automatizar ao máximo esse tipo de trabalho! E, para com isso, irmos além dos
testes unitários que são realizados pelo pessoal do desenvolvimento do WSO2,
testar as interfaces em real funcionamento, nos mais variados bancos de dados.</p>

<p>E assim nasceu o pequeno projeto <a href="http://github.com/WSO2Brasil/wso2-ds-tests">wso2-ds-tests</a>. Que é um apanhando de data
services, sql's e projeto do <a href="http://www.soapui.org/">SOAPUI</a>. Para maiores
informações basta <a href="http://github.com/WSO2Brasil/wso2-ds-tests">acessar o projeto</a> no <a href="http://github.com">Github</a>!</p>

<p>Deem uma olhadela por lá e qualquer contribuição é muito bem vinda, basta
fazer um <em>fork</em> e mandar um <em>pull request</em>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Novidades WSO2 Data Services Server (2.6.x)]]></title>
    <link href="http://wso2brasil.com.br/blog/2011/06/novidades-wso2-data-services-server-2-6-x/"/>
    <updated>2011-06-11T15:39:37-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2011/06/novidades-wso2-data-services-server-2-6-x</id>
    <content type="html"><![CDATA[<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-home.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-home-300x159.png" alt="WSO2 - Data Services Server 2.6.0 - Home" /></a></p>

<p>Tenho acompanhado os <a href="http://builder.wso2.org/~carbon/releases/carbon/3.2.0/"><em>builds</em> diários</a> que o pessoal
do <a href="http://wso2.org/">WSO2</a> tem feito e logo percebi várias novidades na
interface, alteração essa que acontecerá em todos or produtos da série Carbon
3.2.*.</p>

<p>Mas, hoje eu tratarei apenas das novidades que teremos no Data Services
Server, que são muitas e algumas bem importantes e há muito esperadas!</p>

<ul>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#udt-support">UDT (User Defined Type) Support</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#complex-results">Complex Results</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#auto-generated-keys-support">Auto Generated Keys Support</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#distributed-transactions">Distributed Transactions</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#improved-boxcarring-support">Improved Boxcarring Support</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#improved-batch-request-support">Improved Batch Request Support</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#scheduled-tasks">Scheduled Tasks</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#registry-integration">Registry Integration for Excel, CSV, XSLT</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#web-scraping-support">Web Scraping Support</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#multiple-sql-dialect-support">Multiple SQL Dialect Support</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#db-to-ds-generation">Database to Data Service Generation</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#data-service-query-improvements">Data Service Query Improvements</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#service-group-hierarchy-support">Service Group/Hierarchy Support</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#database-explorer">Database Explorer</a></li>
<li><a href="/2011/06/novidades-wso2-data-services-server-2-6-x/#dss-stratos-service">Data as a Service Features - DSS Stratos Service</a></li>
</ul>


<h3><a name="udt-support"></a>UDT (User Defined Type) Support</h3>

<p>Não encontrei maiores detalhes na documentação ou no próprio WSO2 Data
Services Server, talvez não tenha saído ainda nessa <em>release</em>.</p>

<h3><a name="complex-results"></a>Complex Results</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-complex-elements-list.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-complex-elements-list-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Complex Elements - List" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-complex-elements-insert-nested.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-complex-elements-insert-nested-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Complex Elements - Insert nested" /></a></p>

<p>Agora fica possível criar elementos complexos, facilitando algumas coisas em
que era necessário utilizar um <em>transformation</em> (XSLT) ou <em>sub-queries</em>,
ganhando - e muito - em performance.</p>

<h3><a name="auto-generated-keys-support"></a>Auto Generated Keys Support</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-keys.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-keys-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Generate keys" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-keys-invoke.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-keys-invoke-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Generate keys: Invoke" /></a></p>

<p>Muito útil para recuperar a <em>primary key</em> de um registro inserido no banco,
tirando a necessidade de fazer <em>stored procedures</em> ou outro método de consumo
apenas para recuperar a chave inserida.</p>

<h3><a name="distributed-transactions"></a>Distributed Transactions</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-distribute-transactions.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-distribute-transactions-300x159.png" alt="WSO2 Data Services Server 2.6.0 - Distribute Transactions" /></a></p>

<p>Uma maneira de realizar transações distribuídas (na maioria das vezes em
<em>databases</em> separados), será usado JTA para controlar as transações e também é
necessário que usará XA. Com isso ganhamos em não mais precisarmos controlar
isso manualmente com um serviço no WSO2 Application Server.</p>

<h3><a name="improved-boxcarring-support"></a>Improved Boxcarring Support</h3>

<p>Apenas melhorias no suporte que já existia desde a versão 2.5.0, não encontrei
nenhuma alteração visual ou no processo de desenvolvimento.</p>

<h3><a name="improved-batch-request-support"></a>Improved Batch Request Support</h3>

<p>Apenas melhorias no suporte que já existia desde a versão 2.5.0, não encontrei
nenhuma alteração visual ou no processo de desenvolvimento.</p>

<h3><a name="scheduled-tasks"></a>Scheduled Tasks</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-scheduled-tasks.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-scheduled-tasks-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Scheduled Tasks" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-scheduled-tasks-inserting.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-scheduled-tasks-inserting-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Scheduled Tasks: Insert" /></a></p>

<p>Agora, ao invés de fazermos <em>shell scripts</em> que ficam na <em>crontab</em> do servidor
para agendar alguns consumos, podemos fazer isso diretamente no WSO2 Data
Services Server.</p>

<h3><a name="registry-integration"></a>Registry Integration for Excel, CSV, XSLT</h3>

<p>Não encontrei maiores detalhes na documentação ou no próprio WSO2 Data
Services Server, talvez não tenha saído ainda nessa <em>release</em>.</p>

<h3><a name="web-scraping-support"></a>Web Scraping Support</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-web-scraping-data-source.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-web-scraping-data-source-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Web Scraping: Data Source" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-web-scraping-query.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-web-scraping-query-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Web Scraping: Query" /></a></p>

<p>Poderemos consumir dados diretamente de sites, fazendo <em>parser</em> em conteúdo de
páginas, por exemplo.</p>

<h3><a name="multiple-sql-dialect-support"></a>Multiple SQL Dialect Support</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dialects-options.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dialects-options-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Multiple Dialects SQL: Options" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dialects-sql-add.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dialects-sql-add-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Multiple Dialects SQL: Add" /></a></p>

<p>Apesar de ter encontrado referências na <em>wizard</em> de criação/alteração de
serviços, não encontrei nada na documentação ou entendi como funcionará, vamos
aguardar outros <em>releases</em>.</p>

<h3><a name="db-to-ds-generation"></a>Database to Data Service</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database to Data Service Generation" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-choise-type.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-choise-type-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database to Data Service Generation: Choise Type" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-select-tables.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-select-tables-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database to Data Service Generation: Select Tables" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-tryit.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-db-to-ws-tryit-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database to Data Service Generation: Try-it" /></a></p>

<p>Nessa versão é possível gerar automaticamente os métodos para um database e
tabela específico, mas apenas para Carbon Data Sources. Apesar de não ter
gostado no padrão gerado, pode ser bom para gerar o CRUD básico e ser alterado
posteriormente.</p>

<h3><a name="data-service-query-improvements"></a>Data Service Query Improvements</h3>

<p>Imagino que tenha sido apenas melhorias nas rotinas internas de montagem e
processamento de <em>queries</em>. Porque as opções avançadas de <em>query</em> já existiam
na versão 2.5.*.</p>

<h3><a name="service-group-hierarchy-support"></a>Service Group/Hierarchy Support</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-group-option.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-group-option-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Service Group: Option" /></a><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-group-list.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-group-list-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Service Group: List" /></a></p>

<p>Apenas um agrupamento de serviços, imagino que venha como padrão em todo
aplicativo da suíte Carbon, pois em alguns outros aplicativos já existia essa
opção.</p>

<h3><a name="database-explorer"></a>Database Explorer</h3>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dbconsole-login.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dbconsole-login-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database Console: Login" /></a> <a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dbconsole-simple-query.png"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-dbconsole-simple-query-150x150.png" alt="WSO2 Data Services Server 2.6.0 - Database Console: Simple Query" /></a></p>

<p>Uma novidade muito interessante e prática, eles colocaram dentro do WSO2 Data
Services Server uma maneira de explorarmos as bases de dados. E a interface
lembra bastante o <a href="http://www.squirrelsql.org/">SQuirreL SQL</a>, ficou muito
prático.</p>

<h3><a name="dss-stratos-service"></a>Data as a Service Features - DSS Stratos Service</h3>

<p>Existem algumas novidades também sobre os produtos como serviço na nuvem, que
chamam de <a href="http://www.mcorp.com.br/2010/06/lancamento-do-wso2-stratos-alpha/">Stratos</a>,
mas não encontrei documentação nesse <em>build</em>.</p>

<p>E algumas outras pequenas alterações que foram percebidas, como:</p>

<ul>
<li><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-generate-response.png">Generate response</a>: baseado na <em>query</em> é gerada a resposta do serviço;</li>
<li><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/06/wso2-data-services-server-2.6.0-force-stored-procedure.png">Force stored procedure</a>: força a executar a <em>query</em> como uma <em>stored procedure</em>;</li>
<li>Entre outras inúmeras pequenas alterações que vão sendo notadas no uso dia-a-dia.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ Segurança de informações através de filtragem de dados no WSO2 Data Services]]></title>
    <link href="http://wso2brasil.com.br/blog/2011/02/seguranca-de-informacoes-atraves-de-filtragem-de-dados-no-wso2-data-services/"/>
    <updated>2011-02-24T19:30:30-03:00</updated>
    <id>http://wso2brasil.com.br/blog/2011/02/seguranca-de-informacoes-atraves-de-filtragem-de-dados-no-wso2-data-services</id>
    <content type="html"><![CDATA[<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/cadeado.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/cadeado-300x199.jpg" alt="" /></a></p>

<p>Em alguns casos, podemos nos deparar com a necessidade de confidencializar
alguns dados no retorno de <a href="http://www.mcorp.com.br/glossario/#DataServices">Data Services</a>,
exibindo-os apenas
para determinados grupos de usuários, tanto por questão de segurança (quando
algum grupo específico não pode ter acesso a algumas informações),  quanto por
não ter a necessidade de utilizar esse retorno, para que assim não precisemos
criar dois serviços com a mesma finalidade. O WSO2 Data Services Server
oferece a possibilidade de filtrar esses dados no retorno de uma <em>query</em>,
através do <a href="http://www.mcorp.com.br/glossario/#WS-Security">WS-Security</a> (tem
como foco principal o uso de <a href="http://www.mcorp.com.br/glossario%0A/#XML-Signature">XML Signature</a> e <a href="http://www.mcorp.com.br/glossario/#XML-Encryption">XML Encryption</a>). Nesse caso irei exemplificar a seguinte situação: um serviço que
retorna dados referente aos funcionários, sendo consumido por dois
departamentos: o RH (que necessita dos dados referente aos pagamentos dos
honorários) e o setor de segurança (que utiliza apenas os dados cadastrais
para acesso dos funcionários as dependências da empresa).</p>

<p>Iremos utilizar nesse exemplo o WSO2 Data Services Server em sua versão 2.5.1
(nesse caso considerando um conhecimento básico da suíte
<a href="http://www.mcorp.com.br/glossario/#WSO2">WSO2</a>, caso contrário consulte os
<a href="http://www.mcorp.com.br/tag/wso2"><em>posts</em> relacionados ao WSO2</a>):</p>

<ul>
<li><a href="http://www.leandroprado.com.br/2010/07/criando-um-ambiente-soa-com-wso2/">Criando um ambiente SOA com WSO2</a></li>
<li><a href="http://www.leandroprado.com.br/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services/">Criando serviços com WSO2 Data Services</a></li>
</ul>


<p>Supondo que possuímos o banco de dados, com uma tabela simples chamada de
TB_FUNCIONARIOS, com os campos: ID, NOME E SALARIO.</p>

<h2>Etapa 1 - Criando o usuário</h2>

<p>Logado ao WSO2 Data Services Server vá em "Home > Configure > User Management > Users",
para que possamos criar novos usuários, nesse caso criaremos os
usuários "Maria" que faz parte do departamento de RH da empresa e "Joao" que
faz parte da segurança do prédio. Click em "Add User" para preenchermos os
dados do usuário que será cadastrado.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.0-add-user-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.0-add-user-wso2-300x205.jpg" alt="add user wso2" /></a></p>

<p>Após inserir os dados do usuário, clicar em "finish", repetir o procedimento
pro cadastro do outro usuário. Podemos listar os usuários criados como mostra
a imagem.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.1-list-user-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.1-list-user-wso2-300x149.jpg" alt="list user wso2" /></a></p>

<h2>Etapa 2 - Criando grupos de usuários</h2>

<p>Com nossos usuários criados, vamos gerar um grupo para vincular ao perfil do
usuário. Vá em "Home > Configure > Users and Roles > Roles", serão listados os
grupos existentes no WSO2, clique em "Add New Role" que abrirá a tela para
cadastrarmos os grupos.</p>

<p>Crie um grupo com o nome "RecursosHumanos", em seguida clique em "next",
aparecerá a tela com os flags de permissões e previlégios para os membros do
grupo. Nesse caso vamos selecionar a opção "All permissions", para que sejam
marcadas todas as opções. Enquanto estamos criando o grupo, já podemos
vincular os usuários que farão parte do mesmo, faça uma busca listando todos
os usuários e selecione o usuário "Maria" criado anteriormente, como na imagem
abaixo e finalize.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.2-select-user-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.2-select-user-wso2-300x170.jpg" alt="select user wso2" /></a></p>

<p>Agora usando o mesmo processo vamos criar o grupo "Seguranca". Observe que
quando selecionamos algum usuário criado e vinculado ao grupo, o mesmo possui
um ou vários grupos selecionados.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.3-roles-of-users-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.3-roles-of-users-wso2-300x176.jpg" alt="roles of users wso2" /></a></p>

<h2>Etapa 3 - Filtrando dados da consulta</h2>

<p>Com os usuários e grupos devidamente criados vamos finalmente ao que
interessa, filtrar os dados de acordo com o perfil de cada grupo. Considerando
que já exista um serviço "empresa", vamos criar o método
"pesquisarFuncionario" para demonstrar como filtrar os dados de retorno do
método. Nesse caso, o método nos retornará os campos "ID" e "NOME" para o
grupo Segurança, e "ID", "NOME" e "SALARIO" para o grupo RecursosHumanos.</p>

<p>Iremos em "Home > Manage > Services > List > Service Dashboard > Service
Details > Data Sources > Queries",  para inserirmos nosso novo método.
Preenchemos com o SQL, o campo de entrada, e na hora em que formos preencher o
retorno será onde a "mágica" acontecerá.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.4-edit-query-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.4-edit-query-wso2-300x176.jpg" alt="edit query wso2" /></a></p>

<p>No item "Add new output Mapping" abriremos a tela para cadastrar um novo campo
de retorno, preenchemos o tipo do campo, o nome de saída e o nome do campo no
SQL. Abaixo dessas opções temos o item "Allowed User Roles", aonde aparecerão
os grupos que criamos anteriormente, para os campos "ID E NOME" selecionaremos
ambos os grupos, no caso do campo "SALARIO" selecionaremos apenas o grupo
RecursosHumanos, com o método criado mostraremos como consumir esse método
filtrando os dados.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.5-add-edit-output-mapping-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.5-add-edit-output-mapping-wso2-300x160.jpg" alt="add edit output mapping wso2" /></a></p>

<h2>Etapa 4 - Testando a filtragem de dados</h2>

<p>Agora vamos abrir a opção " Home > Manage > Services > List > Service
Dashboard > Security for the service > Activate Security > Service Dashboard >
Security for the service", selecionamos a opção "yes" no combo e setamos o
flag "UsernameToken", assim estaremos habilitando segurança por grupo e
usuário do cliente.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.6-security-for-the-service-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.6-security-for-the-service-wso2-300x130.jpg" alt="security for the service wso2" /></a></p>

<p>Simulando a execução do serviço, no próprio WSO2 Data Services Server, podemos
perceber que aparecem as opções "username" e "password". O retorno será
filtrado de acordo com o usuário que for preenchido nesses campos. Executando
a consulta, notaremos que o campo "SALARIO" só aparece no retorno se
utilizarmos o usuário "Maria".</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.9-full-return-service-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.9-full-return-service-wso2-300x126.jpg" alt="full return service wso2" /></a></p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.8-parcial-return-service-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.8-parcial-return-service-wso2-300x128.jpg" alt="parcial return service wso2" /></a></p>

<p>Espero ter colaborado, sugestões e criticas são sempre bem vindas, focando o
objetivo de transformar a comunidade <a href="http://www.wso2brasil.com.br/">WSO2 Brasil</a> cada vez mais forte, até o próximo
post.</p>

<p>Post baseado no artigo "<a href="http://wso2.org/library/articles/content-filtering-data-services-user-roles">content filtering data services user roles</a>" de Anjana Fernando - Software Engineer WSO2.</p>

<p>Pode ser visto um exemplo de <a href="http://www.mcorp.com.br/2010/03/consumindo-um-servico-seguro-utilizando-php/">consumo um servico seguro utilizando php</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Série criando serviços com WSO2]]></title>
    <link href="http://wso2brasil.com.br/blog/2010/10/serie-criando-servicos-com-wso2/"/>
    <updated>2010-10-22T00:00:00-02:00</updated>
    <id>http://wso2brasil.com.br/blog/2010/10/serie-criando-servicos-com-wso2</id>
    <content type="html"><![CDATA[<p>Veja abaixo os links para a série de posts de como criar serviços com o WSO2</p>

<ul>
<li><a href="http://www.leandroprado.com.br/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services/">Criando um WSO2 DataServices</a></li>
<li><a href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-2-wso2-wsas/">Criando um WSO2 Application Service</a></li>
<li><a href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-3-wso2-esb">Criando roteamento na BUS</a></li>
</ul>


<p>Um Abraço!</p>
]]></content>
  </entry>
  
</feed>