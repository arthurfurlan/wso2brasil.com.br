
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>WSO2Brasil</title>
  <meta name="author" content="WSO2Brasil">

  
  <meta name="description" content="Movimentando, novamente, nossas férias de inverno (verão para os
estadunidenses) tem o SOA Summer School, versão 2011. Várias palestras
(online) &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://wso2brasil.com.br/blog/page/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="WSO2Brasil" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.colorbox.min.js" type="text/javascript"></script>
<link href="/stylesheets/colorbox.css" rel="stylesheet" type="text/css">

<script>
jQuery = jQuery.noConflict(true);
jQuery(document).ready( function() {
  var thumbnails = 'a:has(img)[href$=".bmp"],a:has(img)[href$=".gif"],a:has(img)[href$=".jpg"],a:has(img)[href$=".jpeg"],a:has(img)[href$=".png"],a:has(img)[href$=".BMP"],a:has(img)[href$=".GIF"],a:has(img)[href$=".JPG"],a:has(img)[href$=".JPEG"],a:has(img)[href$=".PNG"],a:has(img)[rel^="lightbox"]';
  jQuery(thumbnails).colorbox({
    transition: "none"
  });
});
</script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39120636-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/"><img src="/images/wso2brasil.png" /></a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com.br/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:wso2brasil.com.br" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Arquivos</a></li>
  <li><a href="/sobre">Sobre</a></li>
  <li><a href="/sobre/#contato">Contato</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="/blog/2011/05/soa-summer-school-2011/">SOA Summer School 2011</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2011-05-06T09:17:35-03:00" pubdate data-updated="true">May 6<span>th</span>, 2011</time>
    
     | <a href="/blog/2011/05/soa-summer-school-2011/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/05/summerschool-2011.gif" alt="" /></p>

<p>Movimentando, novamente, nossas férias de inverno (verão para os
estadunidenses) tem o SOA Summer School, versão 2011. Várias palestras
(<em>online</em>) ministradas pelo pessoal do <a href="http://www.wso2.org">WSO2</a>, uma vez
por semana, falando sobre vários assuntos (lista de palestras abaixo).</p>

<p>Disponibilizei um calendário no fuso horário GMT -3 (America/Sao_Paulo) para
que não esqueçamos do evento.</p>

<iframe src="https://www.google.com/calendar/b/0/embed?showPrint=0&amp;showCalendars=0&amp;mode=AGENDA&amp;height=450&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src=maneh.org_j9mbgf10sln3f2k01d94n0fl10%40group.calendar.google.com&amp;color=%23182C57&amp;ctz=America%2FSao_Paulo" style=" border-width:0 " width="600" height="450" frameborder="0" scrolling="no"></iframe>


<p>Fiquem ligados e não se esqueçam de realizar a inscrição no site do <a href="http://wso2.org/training">SOA Summer School 2011</a>!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="/blog/2011/02/seguranca-de-informacoes-atraves-de-filtragem-de-dados-no-wso2-data-services/">Segurança De Informações Através De Filtragem De Dados No WSO2 Data Services</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2011-02-24T19:30:30-03:00" pubdate data-updated="true">Feb 24<span>th</span>, 2011</time>
    
     | <a href="/blog/2011/02/seguranca-de-informacoes-atraves-de-filtragem-de-dados-no-wso2-data-services/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/cadeado.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/cadeado-300x199.jpg" alt="" /></a></p>

<p>Em alguns casos, podemos nos deparar com a necessidade de confidencializar
alguns dados no retorno de <a href="http://www.mcorp.com.br/glossario/#DataServices">Data Services</a>,
exibindo-os apenas
para determinados grupos de usuários, tanto por questão de segurança (quando
algum grupo específico não pode ter acesso a algumas informações),  quanto por
não ter a necessidade de utilizar esse retorno, para que assim não precisemos
criar dois serviços com a mesma finalidade. O WSO2 Data Services Server
oferece a possibilidade de filtrar esses dados no retorno de uma <em>query</em>,
através do <a href="http://www.mcorp.com.br/glossario/#WS-Security">WS-Security</a> (tem
como foco principal o uso de <a href="http://www.mcorp.com.br/glossario%0A/#XML-Signature">XML Signature</a> e <a href="http://www.mcorp.com.br/glossario/#XML-Encryption">XML Encryption</a>). Nesse caso irei exemplificar a seguinte situação: um serviço que
retorna dados referente aos funcionários, sendo consumido por dois
departamentos: o RH (que necessita dos dados referente aos pagamentos dos
honorários) e o setor de segurança (que utiliza apenas os dados cadastrais
para acesso dos funcionários as dependências da empresa).</p>

<p>Iremos utilizar nesse exemplo o WSO2 Data Services Server em sua versão 2.5.1
(nesse caso considerando um conhecimento básico da suíte
<a href="http://www.mcorp.com.br/glossario/#WSO2">WSO2</a>, caso contrário consulte os
<a href="http://www.mcorp.com.br/tag/wso2"><em>posts</em> relacionados ao WSO2</a>):</p>

<ul>
<li><a href="http://www.leandroprado.com.br/2010/07/criando-um-ambiente-soa-com-wso2/">Criando um ambiente SOA com WSO2</a></li>
<li><a href="http://www.leandroprado.com.br/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services/">Criando serviços com WSO2 Data Services</a></li>
</ul>


<p>Supondo que possuímos o banco de dados, com uma tabela simples chamada de
TB_FUNCIONARIOS, com os campos: ID, NOME E SALARIO.</p>

<h2>Etapa 1 - Criando o usuário</h2>

<p>Logado ao WSO2 Data Services Server vá em &#8220;Home > Configure > User Management > Users&#8221;,
para que possamos criar novos usuários, nesse caso criaremos os
usuários &#8220;Maria&#8221; que faz parte do departamento de RH da empresa e &#8220;Joao&#8221; que
faz parte da segurança do prédio. Click em &#8220;Add User&#8221; para preenchermos os
dados do usuário que será cadastrado.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.0-add-user-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.0-add-user-wso2-300x205.jpg" alt="add user wso2" /></a></p>

<p>Após inserir os dados do usuário, clicar em &#8220;finish&#8221;, repetir o procedimento
pro cadastro do outro usuário. Podemos listar os usuários criados como mostra
a imagem.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.1-list-user-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.1-list-user-wso2-300x149.jpg" alt="list user wso2" /></a></p>

<h2>Etapa 2 - Criando grupos de usuários</h2>

<p>Com nossos usuários criados, vamos gerar um grupo para vincular ao perfil do
usuário. Vá em &#8220;Home > Configure > Users and Roles > Roles&#8221;, serão listados os
grupos existentes no WSO2, clique em &#8220;Add New Role&#8221; que abrirá a tela para
cadastrarmos os grupos.</p>

<p>Crie um grupo com o nome &#8220;RecursosHumanos&#8221;, em seguida clique em &#8220;next&#8221;,
aparecerá a tela com os flags de permissões e previlégios para os membros do
grupo. Nesse caso vamos selecionar a opção &#8220;All permissions&#8221;, para que sejam
marcadas todas as opções. Enquanto estamos criando o grupo, já podemos
vincular os usuários que farão parte do mesmo, faça uma busca listando todos
os usuários e selecione o usuário &#8220;Maria&#8221; criado anteriormente, como na imagem
abaixo e finalize.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.2-select-user-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.2-select-user-wso2-300x170.jpg" alt="select user wso2" /></a></p>

<p>Agora usando o mesmo processo vamos criar o grupo &#8220;Seguranca&#8221;. Observe que
quando selecionamos algum usuário criado e vinculado ao grupo, o mesmo possui
um ou vários grupos selecionados.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.3-roles-of-users-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.3-roles-of-users-wso2-300x176.jpg" alt="roles of users wso2" /></a></p>

<h2>Etapa 3 - Filtrando dados da consulta</h2>

<p>Com os usuários e grupos devidamente criados vamos finalmente ao que
interessa, filtrar os dados de acordo com o perfil de cada grupo. Considerando
que já exista um serviço &#8220;empresa&#8221;, vamos criar o método
&#8220;pesquisarFuncionario&#8221; para demonstrar como filtrar os dados de retorno do
método. Nesse caso, o método nos retornará os campos &#8220;ID&#8221; e &#8220;NOME&#8221; para o
grupo Segurança, e &#8220;ID&#8221;, &#8220;NOME&#8221; e &#8220;SALARIO&#8221; para o grupo RecursosHumanos.</p>

<p>Iremos em &#8220;Home > Manage > Services > List > Service Dashboard > Service
Details > Data Sources > Queries&#8221;,  para inserirmos nosso novo método.
Preenchemos com o SQL, o campo de entrada, e na hora em que formos preencher o
retorno será onde a &#8220;mágica&#8221; acontecerá.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.4-edit-query-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.4-edit-query-wso2-300x176.jpg" alt="edit query wso2" /></a></p>

<p>No item &#8220;Add new output Mapping&#8221; abriremos a tela para cadastrar um novo campo
de retorno, preenchemos o tipo do campo, o nome de saída e o nome do campo no
SQL. Abaixo dessas opções temos o item &#8220;Allowed User Roles&#8221;, aonde aparecerão
os grupos que criamos anteriormente, para os campos &#8220;ID E NOME&#8221; selecionaremos
ambos os grupos, no caso do campo &#8220;SALARIO&#8221; selecionaremos apenas o grupo
RecursosHumanos, com o método criado mostraremos como consumir esse método
filtrando os dados.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.5-add-edit-output-mapping-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.5-add-edit-output-mapping-wso2-300x160.jpg" alt="add edit output mapping wso2" /></a></p>

<h2>Etapa 4 - Testando a filtragem de dados</h2>

<p>Agora vamos abrir a opção &#8221; Home > Manage > Services > List > Service
Dashboard > Security for the service > Activate Security > Service Dashboard >
Security for the service&#8221;, selecionamos a opção &#8220;yes&#8221; no combo e setamos o
flag &#8220;UsernameToken&#8221;, assim estaremos habilitando segurança por grupo e
usuário do cliente.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.6-security-for-the-service-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.6-security-for-the-service-wso2-300x130.jpg" alt="security for the service wso2" /></a></p>

<p>Simulando a execução do serviço, no próprio WSO2 Data Services Server, podemos
perceber que aparecem as opções &#8220;username&#8221; e &#8220;password&#8221;. O retorno será
filtrado de acordo com o usuário que for preenchido nesses campos. Executando
a consulta, notaremos que o campo &#8220;SALARIO&#8221; só aparece no retorno se
utilizarmos o usuário &#8220;Maria&#8221;.</p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.9-full-return-service-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.9-full-return-service-wso2-300x126.jpg" alt="full return service wso2" /></a></p>

<p><a href="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.8-parcial-return-service-wso2.jpg"><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/02/figura1.8-parcial-return-service-wso2-300x128.jpg" alt="parcial return service wso2" /></a></p>

<p>Espero ter colaborado, sugestões e criticas são sempre bem vindas, focando o
objetivo de transformar a comunidade <a href="http://www.wso2brasil.com.br/">WSO2 Brasil</a> cada vez mais forte, até o próximo
post.</p>

<p>Post baseado no artigo &#8221;<a href="http://wso2.org/library/articles/content-filtering-data-services-user-roles">content filtering data services user roles</a>&#8221; de Anjana Fernando - Software Engineer WSO2.</p>

<p>Pode ser visto um exemplo de <a href="http://www.mcorp.com.br/2010/03/consumindo-um-servico-seguro-utilizando-php/">consumo um servico seguro utilizando php</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="/blog/2011/01/lancamento-do-wso2-complex-event-processing-server-1-0-0-alpha/">Lançamento Do WSO2 Complex Event Processing Server 1.0.0 (Alpha)</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2011-01-04T07:28:06-02:00" pubdate data-updated="true">Jan 4<span>th</span>, 2011</time>
    
     | <a href="/blog/2011/01/lancamento-do-wso2-complex-event-processing-server-1-0-0-alpha/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p><img src="http://assets.mcorp.com.br/wp-content/uploads/2011/01/wso2-complex-event-processing-server-300x28.gif" alt="" /></p>

<p>Foi lançado ontem na lista de desenvolvedores do WSO2 (carbon-dev@wso2.org) o
WSO2 Complex Event Processing Server, em sua versão 1.0.0 (alpha), faz com que
tenhamos processamento de eventos complexos em nosso ambiente SOA.</p>

<p>Alguns dos recursos que podemos encontrar no WSO2 CEP:</p>

<ul>
<li>Plugable back end rutime support - WSO2 CEP supports following back end run time engines.

<ul>
<li>Drools Fusion - This back end runtime engine is distributed with the CEP pack</li>
<li>Esper     - This back end runtime is available at WSO2 GPL P2 repository : <a href="http://dist.wso2.org/wso2-gpl-p2/carbon/releases/3.1.0-alpha/">http://dist.wso2.org/wso2-gpl-p2/carbon/releases/3.1.0-alpha/</a> and can be added as a feature with WSO2 Carbon Feature Management.</li>
</ul>
</li>
<li>Support Multiple Broker Types - WSO2 CEP supports WS-Event and JMS-Qpid broker types;</li>
<li>GUI Support -  WSO2 CEP supports create,edit,delete operations on Buckets, Inputs and Queries;</li>
<li>Use Registry resources - WSO2 CEP supports using resources stored in registry (Queries) to create buckets;</li>
<li>Persistence   - WSO2 CEP supports persisting created buckets in the registry;</li>
<li>I18n Support for CEP - WSO2 CEP supports internationalization.</li>
</ul>


<p>O povo do WSO2 nos convida para <a href="http://wso2.org/downloads/cep">baixar o WSO2 CEP</a>, instalar, testar e reportar bugs
(utilizando o <a href="https://wso2.org/jira/secure/project/ViewProject.jspa?pid=10190">Jira do WSO2</a>) - caso
encontremos!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="http://www.leandroprado.com.br/2010/10/serie-criando-servicos-com-wso2/">Série Criando Serviços Com WSO2 →</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2010-10-22T00:00:00-02:00" pubdate data-updated="true">Oct 22<span>nd</span>, 2010</time>
    
     | <a href="/blog/2010/10/serie-criando-servicos-com-wso2/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p>Veja abaixo os links para a série de posts de como criar serviços com o WSO2</p>

<ul>
<li><a href="http://www.leandroprado.com.br/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services/">Criando um WSO2 DataServices</a></li>
<li><a href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-2-wso2-wsas/">Criando um WSO2 Application Service</a></li>
<li><a href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-3-wso2-esb">Criando roteamento na BUS</a></li>
</ul>


<p>Um Abraço!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="http://www.leandroprado.com.br/2010/10/configurando-o-wso2-com-postgresql/">Configurando O WSO2 Com PostgreSQL →</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2010-10-18T00:00:00-02:00" pubdate data-updated="true">Oct 18<span>th</span>, 2010</time>
    
     | <a href="/blog/2010/10/configurando-o-wso2-com-postgresql/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p>Quando instalamos as ferramentas do WSO2 por padrão vem configurado com o banco <a title="H2 Database" href="http://www.h2database.com/html/main.html" target="_blank">H2</a>, mas hoje vamos ver como alterar para o <a title="PostgreSQL" href="http://www.postgresql.org.br/downloads" target="_blank">PostgreSQL</a> dessa forma deixando nossa arquitetura mais robusta.</p>

<h2>1. Configurando a base</h2>

<p>Primeiro de tudo temos que criar a base de dados no Postgre, para isso vamos utilizar a ferramenta PgAdmin que ja vem na instalação do PostgreSQL. Abra o PgAdmin e clique com o botão direito em cima de DataBases e selecione a opção New Database.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem1.png"><img class="aligncenter size-full wp-image-697" title="Criando a DataBase" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem1.png" alt="" width="335" height="278" /></a></p>

<p>Na nova janela coloque o nome da nova database de <strong>gregdb</strong> e clique em OK</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem2.png"><img class="aligncenter size-full wp-image-698" title="Configurando a DataBase" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem2.png" alt="" width="374" height="547" /></a></p>

<p>Agora vamos criar um novo usuário, clique com o botão direito em cima de Login Roles e selecione a opção New Login Role</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem3.png"><img class="aligncenter size-full wp-image-699" title="Criando um novo usuário" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem3.png" alt="" /></a></p>

<p>Na nova janela configure da seguinte maneira:</p>

<ul>
<li>Role Name: <strong>gregadmin</strong></li>
<li>Password: <strong>gregadmin</strong></li>
<li>Password (again): <strong>gregadmin</strong></li>
</ul>


<p>Para finalizar clique em OK</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem4.png"><img class="aligncenter size-full wp-image-700" title="Configuração do Login" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem4.png" alt="" width="429" height="454" /></a></p>

<h2>2. Configurando o Registry</h2>

<p>Agora vamos alterar as configurações do Registry, abra o arquivo registry.xml que se encontra no diretório $GREG_HOME/repository/conf, onde $GREG_HOME é o local onde  está instalado o WSO2 Governance Registry, e adicione as seguintes linhas.</p>

<pre class="brush: xml; title: ; notranslate">
&lt;dbConfig name=&quot;postgresql-db&quot;&gt;
    &lt;url&gt;jdbc:postgresql://localhost:5432/gregdb&lt;/url&gt;
    &lt;userName&gt;gregadmin&lt;/userName&gt;
    &lt;password&gt;gregadmin&lt;/password&gt;
    &lt;driverName&gt;org.postgresql.Driver&lt;/driverName&gt;
    &lt;maxActive&gt;80&lt;/maxActive&gt;
    &lt;maxWait&gt;60000&lt;/maxWait&gt;
    &lt;minIdle&gt;5&lt;/minIdle&gt;
&lt;/dbConfig&gt;
</pre>


<p>Explicando a configuração:</p>

<ul>
<li>url: Endereço JDBC para o banco</li>
<li>username: Usuário para conectar ao banco</li>
<li>password: Senha do usuário</li>
<li>driverName: Nome do driver</li>
<li>maxActive: O número máximo de conexões ativas</li>
<li>maxWait: O número máximo de milissegundos que o pool de espera para uma conexão ser devolvido</li>
<li>minIdle: O número mínimo de conexões ativas que pode permanecer inativo no pool</li>
</ul>


<p>Depois de criado a conexão temos que ativa-la, altere a opção <strong>currentDBConfig</strong> para a coneão que acabamos de criar.</p>


<pre class="brush: xml; title: ; notranslate">
&lt;currentDBConfig&gt;postgresql-db&lt;/currentDBConfig&gt;
</pre>


<p>Agora vamos editar o arquivo user-mgt.xml que se encontra no mesmo diretório ($GREG_HOME/repository/conf) e faça a seguinte alteração.</p>


<pre class="brush: xml; title: ; notranslate">
&lt;Configuration&gt;
    ...
    &lt;Property name=&quot;url&quot;&gt;jdbc:postgresql://localhost:5432/gregdb&lt;/Property&gt;
    &lt;Property name=&quot;userName&quot;&gt;gregadmin&lt;/Property&gt;
    &lt;Property name=&quot;password&quot;&gt;gregadmin&lt;/Property&gt;
    &lt;Property name=&quot;driverName&quot;&gt;org.postgresql.Driver&lt;/Property&gt;
    &lt;Property name=&quot;maxActive&quot;&gt;50&lt;/Property&gt;
    &lt;Property name=&quot;maxWait&quot;&gt;60000&lt;/Property&gt;
    &lt;Property name=&quot;minIdle&quot;&gt;5&lt;/Property&gt;
&lt;/Configuration&gt;
</pre>


<h2>3. Adicionando o Driver</h2>


<p>Para que nossa conexão com o banco funcione, temos que fazer o download do driver JDBC em <a title="PostgreSQL JDBC" href="http://jdbc.postgresql.org/download.html" target="_blank">http://jdbc.postgresql.org/download.html</a>, baixe a versão JDBC4 e depois copie o JAR para o diretório $GREG_HOME/repository/components/lib</p>


<h2>4. Criando a base</h2>


<p>Para finalizar, vamos criar as tabelas na base, para isso temos que iniciar o serviço do Registy com a opção -Dsetup.</p>


<pre class="brush: xml; title: ; notranslate">
./wso2server.sh -Dsetup
</pre>


<p><strong>ATENÇÃO:</strong> Essa opção só deve ser executada apenas uma vez</p>


<p>Vamos acessar o PgAdmin e verificar se as tabelas foram criadas</p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem5.png"><img class="aligncenter size-full wp-image-706" title="postgre_imagem5" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/postgre_imagem5.png" alt="" width="275" height="347" /></a></p>


<h2>5. Configurando o DS, WSAS, ESB</h2>


<p>Depois de ter criado a base do Registry, podemos configurar os outros servers para se comunicar com a base Postgre. Basicamente é o mesmo processo temos que editar o arquivo registry.xml adicionando as configurações de conexão com o banco.</p>


<p><strong>Data Services </strong></p>


<ul>
<li>Abra o arquivo $DS_HOME/repository/conf/registry.xml e adicione a configuração do Postgre conforme descrito acima</li>
<li>Abra o arquivo $DS_HOME/repository/conf/user-mgt.xml e altere a configuração de conexão conforme descrito acima</li>
<li>adicione o jar no diretório $DS_HOME/repository/components/lib</li>
</ul>


<p><strong>Application Services</strong></p>


<ul>
<li>Abra o arquivo $WSAS_HOME/repository/conf/registry.xml e adicione a configuração do Postgre conforme descrito acima</li>
<li>Abra o arquivo $WSAS_HOME/repository/conf/user-mgt.xml e altere a configuração de conexão conforme descrito acima</li>
<li>adicione o jar no diretório $WSAS_HOME/repository/components/lib</li>
</ul>


<p><strong>Enterprise Service Bus</strong></p>


<ul>
<li>Abra o arquivo $ESB_HOME/repository/conf/registry.xml e adicione a configuração do Postgre conforme descrito acima</li>
<li>Abra o arquivo $ESB_HOME/repository/conf/user-mgt.xml e altere a configuração de conexão conforme descrito acima</li>
<li>adicione o jar no diretório $ESB_HOME/repository/components/lib</li>
</ul>


<p>Depois de alterado as configurações, podemos iniciar os serviços normalmente (sem a opção -Dsetup)</p>


<p>Agora nosso ambiente está configurado para usar o PostgreSQL, se você quiser usar o MySQL, Oracle, SQLServer como SGBD pode usar esses mesmos passos apenas alterando as configurações de conexão.</p>


<p>Até a próxima!</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-3-wso2-esb/">Criando Serviços Com O WSO2 - Parte 3 - WSO2 ESB →</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2010-10-13T00:00:00-03:00" pubdate data-updated="true">Oct 13<span>th</span>, 2010</time>
    
     | <a href="/blog/2010/10/criando-servicos-com-o-wso2-parte-3-wso2-esb/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p>Hoje vamos finalizar o processo para criar um serviço com as ferramenta do WSO2, a última parte vamos publicar nosso serviço na BUS, dessa forma disponibilizando o serviço para nossos clientes.</p>

<p>No WSO2 ESB vamos criar um proxy service que será responsável por chamar nosso serviço Bussiness Service (WSO2 WSAS) que por sua vez vai chamar o nosso Data Service (WSO2 DS), essa parte é basicamente configuração não vamos codificar nenhuma linha de código.</p>

<p>Para expor nosso serviço na BUS vamos seguir os seguintes passos:</p>

<h2>1) Criar uma Sequence</h2>

<p>Um elemento de seqüência é usado para definir uma seqüência de mediadores que podem ser chamados mais tarde, nesse exemplo vamos criar uma sequence com um mediator de Log.</p>

<p>Entre na página de administração do ESB, selecione a opção Sequences.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem1.png"><img class="size-thumbnail wp-image-668 aligncenter" title="Menu para criar uma Sequence" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem1.png" alt="" /></a></p>

<p>Clique na opção Add Sequence</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem2.png"><img class="aligncenter size-medium wp-image-669" title="Adicionar uma Sequence" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem2.png" alt="" width="701" height="227" /></a></p>

<p>Na tela Design Sequence, coloque o nome da sequence como RecursoHumanoSequence e agora vamos adicionar a sequência que vai ser executada, em nosso exemplo temos somente um Log, para isso clique em Add Child -&gt; Core -&gt; Log</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem3.png"><img class="aligncenter size-medium wp-image-670" title="Configurar a sequence" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem3.png" alt="" width="705" height="393" /></a></p>

<p>Depois de configurado a sequence, clique em Save, nossa sequence será listada na tela Mediation Sequences</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem4.png"><img class="aligncenter size-medium wp-image-671" title="Listagem das sequences" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem4.png" alt="" width="710" height="245" /></a></p>

<h2>2) Criar um EndPoint</h2>

<p>Um EndPoint é um destino específico de uma mensagem, também podemos ativar as estatísticas de endpoints e WSDL dos endereços.</p>

<p><strong>Atenção:</strong> Para adicionar um Endpoint, vamos precisar acessar o WSAS para recuperar o endereço do Endpoint do nosso serviço, na página de administração do WSAS entre em List e no serviço RecursoHumanoServico clique na opção WSDL1.1</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem7.png"><img class="aligncenter size-medium wp-image-674" title="Recuperando o WSDL do WSAS" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem7.png" alt="" width="720" height="285" /></a></p>

<p>O browser será aberto com o WSDL do serviço, no final está as configurações do Endpoint, copie esse endereço para que possamos colar na tela de criação do Endpoint na ESB.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem8.png"><img class="aligncenter size-full wp-image-675" title="Recuperando o EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem8.png" alt="" width="740" height="378" /></a></p>

<p>Agora vamos voltar ao administrador da ESB, clique na opção Endpoints</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem5.png"><img class="aligncenter size-full wp-image-672" title="Menu para criar o EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem5.png" alt="" /></a></p>

<p>Na nova tela, clique em Address Endpoint</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem6.png"><img class="aligncenter size-medium wp-image-673" title="Adicionar um EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem6.png" alt="" width="711" height="239" /></a></p>

<p>Adicione um nome RecursoHumanoEndPoint e coloque o endereço do Endpoint que recuperamos no WSAS, clique no botão Test para verificar a comunicação entre a ESB e o WSAS</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem9.png"><img class="aligncenter size-full wp-image-676" title="Configurando o EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem9.png" alt="" width="718" height="258" /></a></p>

<p>Clique em Save</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem10.png"><img class="aligncenter size-full wp-image-677" title="Salvando o EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem10.png" alt="" width="720" height="184" /></a></p>

<p>Veja nosso Endpoint na listagem</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem11.png"><img class="aligncenter size-full wp-image-678" title="Listagem dos EndPoints" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem11.png" alt="" width="721" height="192" /></a></p>

<h2>3) Criar o Proxy</h2>

<p>Clique na opção Add -&gt; Proxy Service</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem12.png"><img class="aligncenter size-full wp-image-679" title="Menu para criar um Proxy" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem12.png" alt="" /></a></p>

<p>Temos várias opções para criar proxy, clique na opção Custom Proxy</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem13.png"><img class="aligncenter size-full wp-image-680" title="Adicionar um Custom Proxy" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem13.png" alt="" width="722" height="258" /></a></p>

<p>Vamos configurar nosso proxy da sequinte maneira</p>

<ul>
<li>Proxy Service Name: RecursoHumanoServico</li>
<li>Publishing WSDL: Specify source URL</li>
<li>WSDL URI: Coloque o endereço do WSDL do WSAS, aonde verificamos anteriormente</li>
</ul>


<p>Depois clique em Next</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem14.png"><img class="aligncenter size-full wp-image-681" title="Configurando o Proxy" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem14.png" alt="" width="722" height="543" /></a></p>

<p>Nessa tela vamos configurar a Sequence e o Endpoint que ja criamos anteriormente.</p>

<ul>
<li>In Sequence Options: Selecione Import e na combo selecione a Sequence criada anteriormente</li>
<li>Endpoint Options: Selecione Import e na combo selecione o Endpoint criado anteriormente</li>
</ul>


<p>Depois clique em Next</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem15.png"><img class="aligncenter size-full wp-image-682" title="Referência a Sequence e ao EndPoint" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem15.png" alt="" width="724" height="394" /></a></p>

<p>Nessa tela não alteramos nada, deixe as duas opções marcadas None, e clique em Finish</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem16.png"><img class="aligncenter size-full wp-image-683" title="Finalizar a configuração" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem16.png" alt="" width="719" height="384" /></a></p>

<p>Veja na listagem no nosso proxy criado.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem17.png"><img class="aligncenter size-full wp-image-684" title="Listagem dos Proxys" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem17.png" alt="" width="723" height="315" /></a></p>

<h2>4) Testando o serviço</h2>

<p>Para testar o serviço clique em Try this service, preencha o campo nome e clique no botão.</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem18.png"><img class="aligncenter size-full wp-image-685" title="Teste  do serviço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem18.png" alt="" width="721" height="456" /></a></p>

<p>Quando clicamos no botão fazemos o seguinte caminho:</p>

<p> # A BUS recebe a requisição
 # Encaminha para o WSAS
 # Valida os dados
 # Chama o DS
 # Retorna os dados para o WSAS
 # Executa regra de negócio
 # Retorna os dados para a BUS</p>

<p>Vamos testar a Exception, não coloque nenhum valor para o parâmetro nome e clique no botão</p>

<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem19.png"><img class="aligncenter size-full wp-image-686" title="Teste da Exception" src="http://www.leandroprado.com.br/wp-content/uploads/2010/10/ESB_imagem19.png" alt="" width="718" height="309" /></a></p>

<p>Nesse caso fizemos o seguinte caminho:</p>

<p> # A BUS recebe a requisição
 # Encaminha para o WSAS
 # Valida os dados
 # Retorna erro para a BUS</p>

<p>Chegamos ao fim desse peque How To de como criar um serviço usando as ferramenta do WSO2, espero que possa ter esclarecido as dúvidas. Se ainda tiverem alguma dúvida ou  alguma sugestão, critica favor entre em contato!</p>

<p>Um Abraço!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="http://www.leandroprado.com.br/2010/10/criando-servicos-com-o-wso2-parte-2-wso2-wsas/">Criando Serviços Com O WSO2 - Parte 2 - WSO2 WSAS →</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2010-10-05T00:00:00-03:00" pubdate data-updated="true">Oct 5<span>th</span>, 2010</time>
    
     | <a href="/blog/2010/10/criando-servicos-com-o-wso2-parte-2-wso2-wsas/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p>Hoje vamos dar continuidade ao exemplo de como criar um serviço usando as ferramentas do WSO2, no post anterior criamos o Data Services, hoje estaremos criando o nosso Business Service e publicar no WSO2 WSAS.</p>


<p>O nosso Business Service será responsável por conter a regra de negócio do nosso serviço, ou seja, para uma determinada entrada vindo da BUS vamos consumir o Data Service aplicar a nossa regra de negócio e retornar os dados para a BUS. Esse é o momento onde vamos meter a mão na massa e codificar em Java.</p>


<p>Para consumir o Data Service vamos estar usando o Apache Axis2, que é um framework para contrução e consumo de webservices, portanto <a title="Axis2" href="http://ws.apache.org/axis2/download.cgi" target="_blank">clique aqui</a> e faça o download, a versão que estou usando é 1.5.1. Depois de concluído o download descompactar o arquivo e copiar para um diretório de sua preferência.</p>




<h3>Criando um Business Service</h3>




<p>1. Abra o Eclipse e vamos criar um novo projeto, clique em File -&gt; New -&gt; Project</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem1.png"><img class="aligncenter size-medium wp-image-542" title="Criando novo projeto Java" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem1.png" alt="" width="541" height="486" /></a></p>


<p>Na nova janela que abriu, selecione Java Project clique em Next.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem2.png"></a><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem2.png"><img class="aligncenter size-medium wp-image-543" title="Selecionar Java Project" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem2.png" alt="" width="462" height="374" /></a></p>


<p>Coloque o nome do projeto com <strong>RecursoHumanoServico</strong> depois clique em Finish</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem3.png"></a><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem3.png"><img class="aligncenter size-medium wp-image-544" title="Adicionando o nome do projeto" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem3.png" alt="" width="467" height="522" /></a></p>


<p>Para deixar nosso projeto mais organizado vamos criar duas Package, clique com o botão direito em cima da pasta src  e selecione a opção New -&gt; Package</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem4.png"><img class="aligncenter size-medium wp-image-545" title="Criando as packages" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem4.png" alt="" width="507" height="337" /></a></p>


<p>Coloque o nome do package de <strong>br.leandroprado.webservices.recursohumano</strong></p>


<p style="text-align: center;"><strong><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem5.png"><img class="aligncenter size-medium wp-image-546" title="Nome da Package" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem5.png" alt="" width="492" height="398" /></a><br />
</strong></p>


<p>Adicione mais um package com o nome de <strong>br.leandroprado.webservices.recursohumano.entidades</strong>, veja como seu projeto deve ficar depois de criado as duas packages<strong><br />
</strong></p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem6.png"><img class="aligncenter size-medium wp-image-547" title="Packages criadas" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem6.png" alt="" width="498" height="251" /></a></p>


<p>2. Depois de configurado o o projeto temos que adicionar as bibliotecas do Axis2 que vamos utilizar, clique em Project -&gt; Properties</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem8.png"><img class="aligncenter size-medium wp-image-548" title="Adicionando as bibliotecas" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem8.png" alt="" width="522" height="332" /></a></p>


<p>Na nova janela que abrir, clique em Java Build Path -&gt; Libraries</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem9.png"><img class="aligncenter size-medium wp-image-549" title="Selecionar External Jars" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem9.png" alt="" width="519" height="365" /></a></p>


<p>Clique no botão Add External JARs e vá até o diretório onde esta o Axis2, que baixamos anteriormente e selecione os seguintes JARs.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem10.png"><img class="aligncenter size-medium wp-image-550" title="Selecionando os Jars necessários" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem10.png" alt="" width="515" height="417" /></a></p>


<p>Veja que em Libraries foi adicionado os JARs do Axis2.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem11.png"><img class="aligncenter size-medium wp-image-551" title="Libraries adicionadas" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem11.png" alt="" width="526" height="368" /></a></p>


<p>3. Agora vamos começar a codificar o nosso serviço, clique com o botão direito em cima da package  <strong>br.leandroprado.webservices.recursohumano </strong>e selecione a opção New -&gt; Class</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem12.png"><img class="aligncenter size-medium wp-image-552" title="Criando uma nova classe" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem12.png" alt="" width="528" height="265" /></a></p>


<p>Coloque o nome da nova classe de RecursoHumanoServico e clique em Finish</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem13.png"><img class="aligncenter size-medium wp-image-553" title="Classe RecursoHumanoServico" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem13.png" alt="" width="428" height="460" /></a></p>


<p>Vamos criar outra classe dentro da package <strong>br.leandroprado.webservices.recursohumano.entidades </strong>chamada Funcionario</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem14.png"><img class="aligncenter size-medium wp-image-555" title="Classes criadas" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem14.png" alt="" width="411" height="216" /></a></p>


<p>Veja abaixo o conteúdo da classe Funcionario.java, ela contém os campos que o nosso DataService retorna.</p>




<pre class="brush: java; title: ; notranslate">
package br.leandroprado.webservices.recursohumano.entidades;

import java.util.Date;

public class Funcionario {

    private int codigo;
    private String nome;
    private String endereco;
    private String sexo;
    private String dataAniversario;

    public int getCodigo() {
        return codigo;
    }

    public void setCodigo(int codigo) {
        this.codigo = codigo;
    }

    public String getNome() {
        return nome;
    }

    public void setNome(String nome) {
        this.nome = nome;
    }

    public String getEndereco() {
        return endereco;
    }

    public void setEndereco(String endereco) {
        this.endereco = endereco;
    }

    public String getSexo() {
        return sexo;
    }

    public void setSexo(String sexo) {
        this.sexo = sexo;
    }

    public String getDataAniversario() {
        return dataAniversario;
    }

    public void setDataAniversario(String dataAniversario) {
        this.dataAniversario = dataAniversario;
    }
}
</pre>




<p>Agora vamos criar o serviço, na classe RecursoHumanoServico vamos adicionar um novo método onde vamos chamar o nosso método do DataService, veja abaixo o código;</p>




<pre class="brush: java; title: ; notranslate">
package br.leandroprado.webservices.recursohumano;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import javax.xml.namespace.QName;
import org.apache.axiom.om.OMAbstractFactory;
import org.apache.axiom.om.OMElement;
import org.apache.axiom.om.OMFactory;
import org.apache.axiom.om.OMNamespace;
import org.apache.axis2.addressing.EndpointReference;
import org.apache.axis2.client.Options;
import org.apache.axis2.client.ServiceClient;

import br.leandroprado.webservices.recursohumano.entidades.Funcionario;

public class RecursoHumanoServico {

    // endereco do WSDL do DataService
    private static EndpointReference rhEndpoint = new EndpointReference(&quot;http://10.0.2.15:9764/services/RecursoHumanoServico?wsdl&quot;);

    public Funcionario[] pesquisarFuncionario(String nome)
    {
        String nameSpace = &quot;http://webservices.leandroprado.com.br/DataServices/RecursoHumano/PesquisarFuncionario&quot;;
        String nomeMetodo = &quot;PesquisarFuncionario&quot;;

        List&lt;Funcionario&gt; lst = new ArrayList&lt;Funcionario&gt;();

        try {
                                      // verifica se o parametro esta preenchido
            if(nome != null)
            {
                if(nome.equals(&quot;&quot;))
                    throw new Exception(&quot;Campo Nome é obrigatório!&quot;);
            }
            else
                throw new Exception(&quot;Campo Nome é obrigatório!&quot;);

            // cria os parametros do servico com o EndPoint e o método que queremos usar
            Options options = new Options();
            options.setTo(rhEndpoint);
            options.setAction(&quot;urn:&quot; + nomeMetodo);

            // cria um client para o servico
            ServiceClient sender = new ServiceClient();
            sender.setOptions(options);

            // para criar os parametros de entrada do servico
            OMFactory fac = OMAbstractFactory.getOMFactory();
            OMNamespace omNs = fac.createOMNamespace(
                            nameSpace,    // namespace do método
                             nomeMetodo); // nome do método que vamos invocar
            OMElement payload = fac.createOMElement(nomeMetodo, omNs);

            // seta o nome dos parametros de entrada e seu conteudo
            OMElement param = fac.createOMElement(&quot;Nome&quot;, omNs);
            param.setText(&quot;%&quot; + nome + &quot;%&quot;);
            payload.addChild(param);

            // Executa o DataService
            OMElement result = sender.sendReceive(payload);

            // Recupeara o retorno
            Iterator rows = result.getChildElements();

            // Enquanto houver linhas no retorno
            while (rows.hasNext()) {
                OMElement row = (OMElement) rows.next();

                // recupera os elementos
                OMElement codigo = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;CodigoFuncionario&quot;));
                OMElement nme = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;NomeFuncionario&quot;));
                OMElement endereco = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;EnderecoFuncionario&quot;));
                OMElement sexo = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;SexoFuncionario&quot;));
                OMElement dataAniver = row.getFirstChildWithName(new QName(omNs.getNamespaceURI(), &quot;DataAniversario&quot;));

                // cria um objeto do tipo Funcionario
                Funcionario _fun = new Funcionario();
                _fun.setCodigo(Integer.parseInt(codigo.getText()));
                _fun.setNome(nme.getText());
                _fun.setEndereco(endereco.getText());
                _fun.setSexo(sexo.getText());
                _fun.setDataAniversario(dataAniver.getText());

                // Adiciona na lista
                lst.add(_fun);
            }
        }
        catch(Exception ex)
        {
            throw new RuntimeException(ex.getMessage());
        }

        // verifica se a lista possui elementos
        if(lst.size() &gt; 0)
            return lst.toArray(new Funcionario[lst.size()-1]);
        else
            return lst.toArray(new Funcionario[0]);
    }
}
</pre>


<p>4. Agora vamos publicar o serviço no WSO2 WSAS, primeiro de tudo temos que iniciar os serviços WSO2 DataServices e WSO2 WSAS, já vimos no post <a href="http://www.leandroprado.com.br/2010/07/criando-um-ambiente-soa-com-wso2/" target="_blank">Criando um ambiente SOA com WSO2</a> como criar o ambiente e iniciar os serviços.</p>


<p>Uma das maneiras de fazer o deploy de um serviço para o WSAS é exportar nosso serviço para um arquivo .jar, então  clique com o botão direito em cima do projeto RecursoHumanoServico e selecione a opção Export.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem15.png"><img class="aligncenter size-medium wp-image-565" title="Exportar o serviço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem15.png" alt="" width="517" height="362" /></a></p>


<p>Selecione a opção Jar File, e clique em Next</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem16.png"><img class="aligncenter size-medium wp-image-565" title="Selecione Jar File" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem16.png" alt="" width="511" height="409" /></a></p>


<p>Agora selecione em qual diretório vamos salvar o arquivo .jar, nesse caso estou salvando no Desktop e clique em Finish</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem17.png"><img class="aligncenter size-medium wp-image-565" title="Selecione o local para salvar o Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem17.png" alt="" width="431" height="395" /></a></p>


<p>Acessando nosso diretório Desktop o arquivo exportado.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem18.png"><img class="aligncenter size-medium wp-image-565" title="Arquivo Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem18.png" alt="" width="397" height="128" /></a></p>


<p>Agora vamos fazer o Deploy do arquivo .jar para o WSAS, acessar o console de administração do WSAS e selecionar a opção Services -&gt; Add -&gt; Jar Service</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem19.png"><img class="aligncenter size-medium wp-image-571" title="Selecionar a opção Jar Service" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem19.png" alt="" width="203" height="300" /></a></p>


<p>Coloque o nome do seu serviço e procure o arquivo .jar que exportamos anteriormente, e clique em Next</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem20.png"><img class="aligncenter size-medium wp-image-571" title="Adicionando o Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem20.png" alt="" width="526" height="162" /></a></p>


<p>Na próxima tela temos que selecionar qual classe que queremos expor como serviço, em nosso exemplo é a classe RecursoHumanoServico.java, não esqueça de selecionar o escopo que é SOAP, depois clique em Next</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem21.png"><img class="aligncenter size-medium wp-image-571" title="Configurando o Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem21.png" alt="" width="526" height="129" /></a></p>


<p>Selecione os métodos que deseja disponibilizar no serviço, em nosso exemplo só temos um método, mas se tivesse vários métodos poderiamos selecionar quais deles vamos disponibilizar para consumo, depois clique em Finish.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem22.png"><img class="aligncenter size-medium wp-image-571" title="Métodos do Jar" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem22.png" alt="" width="525" height="115" /></a></p>


<p>Se tudo ocorrer sem erros, uma mensagem será exibida e o nosso serviço vai aparecer na lista, veja abaixo:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem23.png"><img class="aligncenter size-medium wp-image-571" title="Serviço adicionado" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem23.png" alt="" width="536" height="219" /></a></p>


<p>Vamos testar nosso método, clique em Try this Service , preencha o parâmetro nome e clique no botão, o seguinte resultado deverá ocorrer:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem24.png"><img class="aligncenter size-medium wp-image-571" title="Testando o servço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem24.png" alt="" width="539" height="293" /></a></p>


<p>Vamos testar se a nossa validação está sendo executada, se invocar o método sem nenhum valor para o parâmetro nome, deve retornar um erro, veja abaixo:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem25.png"><img class="aligncenter size-medium wp-image-571" title="Testando a Exception" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/bs_imagem25.png" alt="" width="525" height="159" /></a></p>


<h3>Conclusão</h3>


<p>Podemos ver que para criar um BusinessServer usando o WSAS não tem muito segredo, para quem ja programa em JAVA não vai ter nehuma dificuldade.</p>


<p>O que podemos fazer para facilitar o consumo é criar um componente onde só passamos o método que queremos consumir e ele nos retorna um objeto criado, fica por conta de vocês aprimorar esse código.</p>


<p>O WSO2 lançou um plugin para o Eclipse que cria serviços para o WSAS, com esse plugin é possível fazer debug dos nossos métodos, dessa forma facilitando o desenvolvimento para o programador.</p>


<p><a href="http://wso2.org/library/tutorials/create-axis2-web-service-in-3-steps-using-eclipse" target="_blank">Create an Axis2 Web Service in 3 Steps Using Eclipse</a></p>


<p><a href="http://wso2.org/library/tutorials/debug-your-axis2-web-service-3-steps-using-eclipse" target="_blank">How to Debug Your Axis2 Web Service in 3 Steps Using Eclipse</a></p>


<p>No próximo post estaremos criando a camada da BUS, vamos criar um proxy para disponibilizar os serviços aos nossos clientes.</p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/RecursoHumanoServico.zip" target="_blank">Download Parte 2</a></p>


<p>Até a próxima!</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="http://www.leandroprado.com.br/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services/">Criando Serviços Com O WSO2 - Parte 1 - WSO2 Data Services →</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2010-09-22T00:00:00-03:00" pubdate data-updated="true">Sep 22<span>nd</span>, 2010</time>
    
     | <a href="/blog/2010/09/criando-servicos-com-o-wso2-parte-1-wso2-data-services/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p><img class="alignleft size-thumbnail wp-image-490" title="WSO2 Logo" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/logo_wso2.jpg" alt="" width="200" height="100" />Depois de publicar o post <a title="Criando um ambiente SOA com WSO2" href="http://www.leandroprado.com.br/2010/07/criando-um-ambiente-soa-com-wso2/" target="_blank">Criando um ambiente SOA com WSO2</a> estamos recebendo vários emails e comentários de usuários que estão com diversas dúvidas e como usar as ferramentas do WSO2 integrada, por esse motivo, hoje vamos começar uma série de posts explicativos de como criar um serviço completo (DS, WSAS, BUS) usando as ferramentas WSO2.</p>


<p>Antes de começar vamos entender a arquitetura que vamos estar utilizando, veja abaixo:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/arquitetura.png"><img class="size-thumbnail wp-image-492 aligncenter" title="Arquitetura do ambiente" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/arquitetura.png" alt="" width="326" height="326" /></a></p>


<ul>
<li>DataService será responsável por recuperar as informações em uma origem de dedos, pode ser um banco de dados (MySQL, Postegres, SQLServer, Oracle, etc&#8230;) pode ser em um arquivo XML ou em um arquivo CSV.</li>
<li>Application Server que será responsável por fazer a orquestração dos nossos serviços e pela regra de negócio</li>
<li>BUS será responsável por expor nosso serviços para os clientes (Mobile, Portals, Desktop, etc&#8230;)</li>
</ul>


<p>O nosso cenário para o serviço de teste será um cadastro de funcionário para o setor de RH de uma empresa, vamos estar utilizando o banco de dados MySQL 5. Então mãos no teclado!!</p>


<h3>Criando a Base de Dados</h3>


<pre class="brush: sql; title: ; notranslate">

create database rh;
use rh;

CREATE TABLE funcionario (
  id_funcionario int(10) NOT NULL AUTO_INCREMENT,
  nome_funcionario varchar(100) NOT NULL,
  endereco_funcionario varchar(100) NOT NULL,
  sexo_funcionario char(1) NOT NULL,
  data_aniversario datetime NOT NULL,
  PRIMARY KEY (id_funcionario),
  UNIQUE KEY PK_Funcionario (id_funcionario)
);

INSERT INTO funcionario (nome_funcionario, endereco_funcionario, sexo_funcionario, data_aniversario) VALUES ('Leandro Prado 1', 'Rua xyz 367', 'M', '2000-10-10');
INSERT INTO funcionario (nome_funcionario, endereco_funcionario, sexo_funcionario, data_aniversario) VALUES ('Leandro Prado 2', 'Rua xyz 367', 'M', '2000-10-10');

</pre>


<h3>Criando um WSO2 DataService</h3>


<p>1. Dentro do Management Console do DataService clique no menu DataServices -&gt; Create</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem1.png"><img class="aligncenter size-medium wp-image-502" title="Selecione a opção Create" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem1.png" alt="" width="136" height="300" /></a></p>


<p>2. Coloque no nome e a descrição do Serviço e clique em Next</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem2.png"><img class="aligncenter size-medium wp-image-503" title="Adicione o nome do Serviço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem2.png" alt="" width="514" height="190" /></a></p>


<p>3. Agora vamos adionar a nossa fonte de dados, selecione Add New Data Source</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem3.png"><img class="aligncenter size-medium wp-image-505" title="Adicione uma fonte de dados" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem3.png" alt="" width="514" height="107" /></a></p>


<p>4. Na tela de configuração do DataSource temos os seguintes campos:</p>


<ul>
<li>DataSource id:</li>
<li>DataSource Type:</li>
<li>Database Engine:</li>
<li>Driver Class:</li>
<li>JDBC URL:</li>
<li>User Name:</li>
<li>Password:</li>
<li>Min. Pool Size:</li>
<li>Max. Pool Size:</li>
<li>AutoCommit:</li>
</ul>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem4.png"><img class="aligncenter size-medium wp-image-504" title="Configurando o MySQL" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem4.png" alt="" width="512" height="279" /></a></p>


<p>Clique no botão Test Connection para verificar se a conexão com o banco está correta.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem5.png"><img class="aligncenter size-medium wp-image-507" title="Testando a conexão com o BD" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem5.png" alt="" width="513" height="279" /></a></p>


<p>Se esse o erro acima ocorrer significa que está faltando o jar de conexão com o MySQL, então acesse esse <a title="MySQL Connector" href="http://www.mysql.com/downloads/connector/j/" target="_blank">link</a> e baixe o conector e copie o jar para a pasta  wso2/wso2dataservices-2.2.1/repository/components/lib e depois restart o  serviço do WSO2 DataServices.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem6.png"><img class="aligncenter size-medium wp-image-508" title="Adicionando a fonte de Dados" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem6.png" alt="" width="513" height="278" /></a></p>


<p>5. Na próxima tela vamos criar as querys que nosso serviço vai executar</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem18.png"><img class="aligncenter size-medium wp-image-509" title="Criando uma nova query" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem18.png" alt="" width="512" height="88" /></a></p>


<p>6. Na tela para adicionar uma nova query temos os seguintes campos:</p>


<ul>
<li>Query ID:</li>
<li>Data Source:</li>
<li>SQL:</li>
<li>Input Mappging</li>
<li>Grouped by element:</li>
<li>Row name:</li>
<li>Row namespace:</li>
<li>Output Mappging:</li>
</ul>


<p>7. Se sua query possuir parâmetros de entrada deve ser adicionado clicando no botão Input Mappings, essa tela possui os seguintes campos:</p>


<ul>
<li>Mapping Name</li>
<li>SQL Type</li>
<li>IN/OUT Type</li>
<li>Ordinal</li>
</ul>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem8.png"><img class="aligncenter size-medium wp-image-514" title="Adicionando os parâmetros de entrada" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem8.png" alt="" width="513" height="210" /></a></p>


<p>8. Para recuperar os dados de retorno da sua query clique no botão Output Mappings e adicione os campos que deseja retornar, essa tela possui os seguintes campos:</p>


<ul>
<li>Mapping Type</li>
<li>Output field name</li>
<li>Data source column Name</li>
<li>Schema Type</li>
<li>Allowed User Roles</li>
</ul>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem81.png"></a><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem9.png"><img class="aligncenter size-medium wp-image-517" title="Adicionando os parâmetros de saída" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem9.png" alt="" width="510" height="302" /></a></p>


<p>Veja como vai ficar com todos nossos campos de saída mapeados</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem10.png"><img class="aligncenter size-medium wp-image-518" title="Mapeamento da query" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem10.png" alt="" width="513" height="321" /></a></p>


<p>9. Na próxima tela é para adicionar as operações (métodos) do serviço, cada query vai ter uma operação:</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem13.png"><img class="aligncenter size-medium wp-image-522" title="Criando os métodos" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem13.png" alt="" width="530" height="100" /></a></p>


<p>10. Na tela Add New Operation temos um campo para colocar o nome da operação (método) e uma combo para selecionar qual query essa operação vai chamar</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem14.png"><img class="aligncenter size-medium wp-image-523" title="Adicionando uma nova operação" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem14.png" alt="" width="512" height="177" /></a></p>


<p>Veja como fica a nossa operação PesquisarFuncionario.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem15.png"><img class="aligncenter size-medium wp-image-524" title="Operação PesquisarFuncionario" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem15.png" alt="" width="513" height="115" /></a></p>


<p>11. Clique em Finish para criar o nosso DataService, não precisamos preencher os Resources. Veja que nosso serviço já é listado.</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem16.png"><img class="aligncenter size-medium wp-image-526" title="Serviço adicionado" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem16.png" alt="" width="513" height="144" /></a></p>


<p>12. Vamos fazer o teste para verificar se tudo está correto e funcionando, clique em Try this service</p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem17.png"><img class="aligncenter size-medium wp-image-527" title="Testando o serviço" src="http://www.leandroprado.com.br/wp-content/uploads/2010/09/ds_imagem17.png" alt="" width="510" height="212" /></a></p>


<h3>Conclusão</h3>


<p>Criar DataServices usando a ferramenta do WSO2 é muito fácil, intuitivo e produtivo, em apenas alguns minutos conectamos na base de dados, fazemos uma query e retornamos os dados via XML sem escrever nenhuma linha de código.</p>


<p>Os serviços de DataServices também pode ser criados através de um plugin para o eclipse, <a title="WSO2 Data Services Plugin" href="http://wso2.org/library/tutorials/create-dataservice-with-eclipse-dataservice-plugin" target="_blank">veja aqui</a>.</p>


<p>No próximo post estaremos criando a camada de negócio usando o WSAS</p>


<p>Até a próxima!</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="http://www.leandroprado.com.br/2010/07/criando-um-ambiente-soa-com-wso2/">Criando Um Ambiente SOA Com WSO2 →</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2010-07-15T00:00:00-03:00" pubdate data-updated="true">Jul 15<span>th</span>, 2010</time>
    
     | <a href="/blog/2010/07/criando-um-ambiente-soa-com-wso2/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p style="text-align: justify;">Nesse post vou descrever como criar um ambiente SOA completo usando as ferramentas WSO2.</p>


<p style="text-align: justify;">O ambiente que estou usando é Ubuntu 10 como Java 6 (esse tutorial parte do princípio que o Ubuntu e o Java já estão instalados e configurados)</p>


<h3>Passo 1- Criar diretório</h3>


<p>Vamos criar um diretório onde vamos instalar todas as ferramentas do WSO2</p>


<pre class="brush:java">     cd /home/leandro-prado
     mkdir wso2
     cd wso2/
     pwd
     /home/leandro-prado/wso2</pre>


<h3>Passo 2 &#8211; WSO2 Governance Registry</h3>


<p style="text-align: justify;">Baixar o arquivo em <a title="WSO3 Governance Registry" href="http://wso2.com/products/governance-registry/" target="_blank">http://wso2.com/products/governance-registry/</a> (a versão que usamos foi a 3.5.0) descompactar e depois mover para o diretório criado acima</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2greg-3.5.0.zip
     mv wso2greg-3.5.0 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2greg-3.5.0/bin/
     ./wso2server.sh</pre>


<p style="text-align: justify;">Para iniciar o serviço entrar no diretório bin e executar o arquivo wso2server.sh, se tudo ocorrer sem erros, a seguinte saída deverá ser exibida no console</p>


<pre class="brush:java">     [2010-06-05 17:46:15,887]  INFO -  Connection established with the registry
     [2010-06-05 17:46:16,732]  INFO -  HTTPS port       : 9443
     [2010-06-05 17:46:16,761]  INFO -  HTTP port        : 9763
     [2010-06-05 17:46:18,911]  INFO -  Successfully Initialized Eventing on Registry
     [2010-06-05 17:46:27,749]  INFO -  Mgt Console URL  : https://10.0.2.15:9443/carbon/
     [2010-06-05 17:46:28,702]  INFO -  Started Transport Listener Manager
     [2010-06-05 17:46:28,703]  INFO -  Server           :  WSO2 Governance Registry-3.5.0
     [2010-06-05 17:46:28,703]  INFO -  WSO2 Carbon started in 65 sec</pre>


<p>Agora podemos acessar o browser e verificar se esta tudo correto:</p>


<p>Endereco: https://10.0.2.15:9443/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p style="text-align: center;"><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/06/GovernanceRegistry.png"><img class="size-medium wp-image-165 aligncenter" title="WSO2 Governance Registry" src="http://www.leandroprado.com.br/wp-content/uploads/2010/06/GovernanceRegistry-300x187.png" alt="" width="300" height="187" /></a></p>


<h3>Passo 3 &#8211; WSO2 Data Services</h3>


<p style="text-align: justify;">Agora vamos instalar o Data Service, baixar o arquivo em <a title="WSO2 Data Services" href="http://wso2.com/products/data-services-server/" target="_blank">http://wso2.com/products/data-services-server/</a> (a versão que usamos foi a 2.2.1) descompactar e depois mover para o diretório criado no passo 1, podemos perceber que a intalação é igual para todas as ferramentas.</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2dataservices-2.2.1.zip
     mv wso2dataservices-2.2.1 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2dataservices-2.2.1/bin/
     ./wso2server.sh</pre>


<p style="text-align: justify;">Quando mandamos iniciar o servidor do Data Service pela primeira vez vamos receber o seguinte erro:</p>


<pre class="brush:java">     [2010-06-05 18:43:35,233]  INFO -  Repository       : /home/leandro-prado/wso2/wso2dataservices-2.2.1/repository/
     [2010-06-05 18:43:35,720]  INFO -  HTTPS port       : 9443
     [2010-06-05 18:43:35,721]  INFO -  HTTP port        : 9763
     [2010-06-05 18:43:35,954] ERROR -  Error initializing endpoint
     java.net.BindException: Address already in use:9443</pre>


<p style="text-align: justify;">Esse erro ocorre porque a porta 9443 ja esta sendo usanda pelo WSO2 Governance Registry, por esse motivo temos que configurar manualmente outra porta para o Data Service, para isso temos que editar o arquivo transports.xml que fica na pasta conf</p>


<pre class="brush:java">     cd ..
     cd conf/
     sudo gedit transports.xml</pre>


<p style="text-align: justify;">Temos que alterar o parâmetro port tanto para HTTP e HTTPS, essa configuração está na a linha 3 e na linha 30  e depois iniciar o serviço novamente, conforme abaixo:</p>


<pre class="brush:java">     &lt;parameter name="port"&gt;9764&lt;/parameter&gt;
     &lt;parameter name="port"&gt;9444&lt;/parameter&gt;
     cd ..
     cd bin/
     ./wsoeserver.sh</pre>


<p style="text-align: justify;">Se tudo ocorrer sem erros a seguinte saída devera ser exibida no console:</p>


<pre class="brush:java">     [2010-07-03 00:21:01,928]  INFO -  Initializing transport descriptions and their associated parameters
     [2010-07-03 00:21:01,992]  INFO -  Repository       : /home/leandro-prado/wso2/wso2dataservices-2.2.1/repository/
     [2010-07-03 00:21:02,363]  INFO -  HTTPS port       : 9444
     [2010-07-03 00:21:02,363]  INFO -  HTTP port        : 9764
     [2010-07-03 00:21:04,398]  INFO -  Mgt Console URL  : https://10.0.2.15:9444/carbon/
     [2010-07-03 00:21:04,399]  INFO -  Started Transport Listener Manager
     [2010-07-03 00:21:04,399]  INFO -  Server           :  WSO2 Data Services-2.2.1
     [2010-07-03 00:21:04,400]  INFO -  WSO2 Carbon started in 50 sec</pre>


<p style="text-align: justify;">Para ver se tudo esta correto podemos acessar o administrador do Data Service no browser.</p>


<p>Endereço: https://10.0.2.15:9444/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/07/DataServices.png"><img class="aligncenter size-medium wp-image-182" title="WSO2 Data Services" src="http://www.leandroprado.com.br/wp-content/uploads/2010/07/DataServices-300x187.png" alt="" width="300" height="187" /></a></p>


<h3>Passo 4 &#8211; WSO2 Application Server</h3>


<p style="text-align: justify;">Agora vamos instalar o Application Server, baixar o arquivo em <a href="http://wso2.com/products/web-services-application-server/" target="_blank">http://wso2.com/products/web-services-application-server/</a> (a versão que usamos foi a 3.2.0) para instalar seguir o mesmo padrão, descompactar, mover para o diretório, configurar o arquivo transports.xml (port HTTP 9445 e HTTPS 9765) e iniciar o serviço</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2wsas-3.2.0.zip
     mv wso2wsas-3.2.0 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2wsas-3.2.0
     cd repository/conf
     gedit mgt-transports.xml
     cd ../../bin
     ./wso2server.sh</pre>


<p style="text-align: justify;">Se tudo ocorrer sem erros a seguinte saída devera ser exibida no console:</p>


<pre class="brush:java">     [2010-07-03 00:49:45,404]  INFO -  Repository       : /home/leandro-prado/wso2/wso2wsas-3.2.0/repository/deployment/server/
     [2010-07-03 00:49:45,657]  INFO -  Connection established with the registry
     [2010-07-03 00:49:47,821]  INFO -  HTTPS port       : 9445
     [2010-07-03 00:49:47,829]  INFO -  HTTP port        : 9765
     [2010-07-03 00:49:50,774]  INFO -  Mgt Console URL  : https://10.0.2.15:9445/carbon/
     [2010-07-03 00:49:50,787]  INFO -  Started Transport Listener Manager
     [2010-07-03 00:49:50,795]  INFO -  Server           :  WSO2 WSAS-3.2.0
     [2010-07-03 00:49:50,796]  INFO -  WSO2 Carbon started in 33 sec</pre>


<p style="text-align: justify;">Para ver se tudo esta correto podemos acessar o administrador do Application Server no browser.</p>


<p>Endereco: https://10.0.2.15:9445/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/07/ApplicationServer.png"><img class="aligncenter size-medium wp-image-187" title="WSO2 Application Server" src="http://www.leandroprado.com.br/wp-content/uploads/2010/07/ApplicationServer-300x187.png" alt="" width="300" height="187" /></a></p>


<h3>Passo 5 &#8211; WSO2 Enterprise Service Bus</h3>


<p style="text-align: justify;">Agora vamos instalar a BUS, baixar o arquivo em <a href="http://wso2.com/products/web-services-application-server/" target="_blank">http://wso2.com/products/enterprise-service-bus/</a> (a versão que usamos foi a 3.0.0) novamente a instalação segue o mesmo padrão, descompactar, mover para o diretório, configurar o arquivo transports.xml (port HTTP 9446 e HTTPS 9766) e iniciar o serviço</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2esb-3.0.0.zip
     mv wso2esb-3.0.0 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2esb-3.0.0
     cd repository/conf
     gedit mgt-transports.xml
     cd ../../bin
     ./wso2server.sh</pre>


<p style="text-align: justify;">Se tudo ocorrer sem erros a seguinte saída devera ser exibida no console:</p>


<pre class="brush:java">     [2010-07-03 01:15:19,725]  INFO - CarbonUIServiceComponent Mgt Console URL  : https://10.0.2.15:9446/carbon/
     [2010-07-03 01:15:19,783]  INFO - StartupFinalizerServiceComponent Started Transport Listener Manager
     [2010-07-03 01:15:19,784]  INFO - StartupFinalizerServiceComponent Server           :  WSO2 ESB-3.0.0
     [2010-07-03 01:15:19,784]  INFO - StartupFinalizerServiceComponent WSO2 Carbon started in 114 sec</pre>


<p style="text-align: justify;">Para ver se tudo esta correto podemos acessar o administrador do Application Server no browser.</p>


<p>Endereco: https://10.0.2.15:9446/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/07/EnterpriseServiceBus.png"><img class="aligncenter size-medium wp-image-191" title="WSO2 Enterprise Service Bus" src="http://www.leandroprado.com.br/wp-content/uploads/2010/07/EnterpriseServiceBus-300x187.png" alt="" width="300" height="187" /></a></p>


<h3>Passo 6 &#8211; WSO2 Business Activity Monitor</h3>


<p>Agora vamos instalar a BAM, baixar o arquivo em <a href="http://wso2.com/products/business-activity-monitor/">http://wso2.com/products/business-activity-monitor/</a> (a versão que usamos foi a 1.0.1) novamente a instalação segue o mesmo padrão, descompactar, mover para o diretório, configurar o arquivo transports.xml (port HTTP 9447 e HTTPS 9767) e iniciar o serviço.</p>


<pre class="brush:java">     cd Downloads/wso2/
     unzip wso2bam-1.0.1.zip
     mv wso2bam-1.0.1 /home/leandro-prado/wso2/
     cd /home/leandro-prado/wso2/wso2bam-1.0.1
     cd conf/
     gedit transports.xml
     cd ../bin
     ./wso2server.sh</pre>


<p style="text-align: justify;">Se tudo ocorrer sem erros a seguinte saída devera ser exibida no console:</p>


<pre class="brush:java">     [2010-07-07 16:06:32,854]  INFO -  Connection established with the registry
     [2010-07-07 16:06:33,816]  INFO -  Successfully Initialized Eventing on Registry
     [2010-07-07 16:06:47,166]  INFO -  Mgt Console URL  : https://10.0.2.15:9447/carbon/
     [2010-07-07 16:06:47,167]  INFO -  Started Transport Listener Manager
     [2010-07-07 16:06:47,168]  INFO -  Server           :  WSO2 Business Activity Monitor-1.0.1
     [2010-07-07 16:06:47,168]  INFO -  WSO2 Carbon started in 96 sec</pre>


<p>Para ver se tudo esta correto podemos acessar o administrador da BAM no browser.</p>


<p>Endereco: https://10.0.2.15:9447/carbon &#8211; <strong>Usuário: admin / Senha:admin</strong></p>


<p><a href="http://www.leandroprado.com.br/wp-content/uploads/2010/07/BAM.png"><img class="aligncenter size-medium wp-image-230" title="WSO2 Business Activity Monitor" src="http://www.leandroprado.com.br/wp-content/uploads/2010/07/BAM-300x187.png" alt="" width="300" height="187" /></a></p>


<p>Podemos ver como é fácil instalar as ferrametas do WSO2, nos próximos posts vamos configurar os servers para se conectar com o baco de dados MySQL.</p>


<p>Até a próxima!</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
  
    <h1 class="entry-title"><a href="/blog/2010/06/compilando-o-wso2-carbon-3-0-0-e-corrigindo-o-wso2-data-services-server-2-5-0/">Compilando O WSO2 Carbon 3.0.0 E Corrigindo O WSO2 Data Services Server 2.5.0</a></h1>
    
    


  <p class="meta">
    








  


<time datetime="2010-06-16T10:17:12-03:00" pubdate data-updated="true">Jun 16<span>th</span>, 2010</time>
    
     | <a href="/blog/2010/06/compilando-o-wso2-carbon-3-0-0-e-corrigindo-o-wso2-data-services-server-2-5-0/#disqus_thread">Comments</a>
    
  </p>


  </header>


  <div class="entry-content"><p><img src="http://assets.mcorp.com.br/wp-content/uploads/2010/06/wso2-data-services-server.gif" alt="" />Versões novas de produtos sempre são uma alegria, seja pelos
recursos novos ou somente pela novidade que sempre alegra-nos, principalmente
nós desenvolvedores. Mas juntamente com as novas versões (principalmente nos
primeiros releases) vem também problemas, bugs ou incompatibilidade de
versões- os problemas mais comuns.</p>

<p>E para não pararmos no tempo, vendo que <a href="/2010/04/novidades-do-proximo-wso2-data-services-server-2-5-x/">as novidades do WSO2 Data Services Server 2.5.0</a>
seriam muito bem vindas para nós, resolvemos realizar testes para verificar a
possibilidade de atualizarmos nossa versão da 2.2.1 para a 2.5.0, e surgiu
aquela alegria quando vimos que não teríamos problemas de incompatibilidade
como ocorreu nos testes de migração da 2.0 para <a href="/2009/12/testes-na-versao-2-2-0-do-wso2-data-services-server/">WSO2 Data Services Server 2.2.1</a>.</p>

<p>Mas como nem tudo são rosas, um velho <em>bug</em> conhecido nosso na versão 2.0 e
discutido no <a href="http://wso2.org/forum/thread/5349">fórum - de não aceitar valores <em>null</em></a>, tinha sido corrigido na versão
2.2.1; mas resolveu dar as caras na versão 2.5.0. E por necessitarmos das
novidades dessa versão, tivemos que correr atrás e corrigir o problema, já
corrigido anteriormente.</p>

<p><img src="http://assets.mcorp.com.br/wp-content/uploads/2010/06/wso2-carbon.gif" alt="" />Como já
conhecemos a estrutura, fomos direto ao site do projeto para realizar o
<a href="http://wso2.org/downloads/data-services-server">download do fonte do WSO2 Data Services Server</a> e fomos atrás do arquivo problemático (SQLQuery.java).
Mas para nossa surpresa, o arquivo não estava mais lá, foi centralizado no
projeto <a href="http://wso2.org/downloads/carbon">WSO2 Carbon</a>.</p>

<p>Então com o arquivo de <a href="http://dist.wso2.org/products/carbon/3.0.0/wso2carbon-3.0.0-src.zip">código-fonte do WSO2 Carbon
3.0.0</a>
devidamente baixado, vamos colocar a mão na massa.</p>

<h2>Baixando e descompactando o fonte</h2>

<pre><code>wget http://dist.wso2.org/products/carbon/3.0.0/wso2carbon-3.0.0-src.zip
unzip wso2carbon-3.0.0-src.zip
</code></pre>

<h2>Baixando e aplicando o <em>patch</em></h2>

<pre><code>wget /wp-content/uploads/2010/06/wso2-dataservices-accept-null.txt
cd wso2carbon-3.0.0-src patch -p1 wso2-dataservices-accept-null.patch
</code></pre>

<p>E a mensagem recebida aqui será algo como:</p>

<pre><code>patching file components/data-services/org.wso2.carbon.dataservices.core/3.0.0/src/main/java/org/wso2/carbon/dataservices/dispatch/query/SQLQuery.java
</code></pre>

<h2>Compilando o componente</h2>

<p>Levando em consideração que você tenha as dependências necessárias, vai ser um
passo bem demorado. Vai fazer download de alguns pacotes, compilar, testar e
gerar uma nova versão do componente, com a correção.</p>

<pre><code>cd components/data-services
mvn install
</code></pre>

<h2>Corrigindo o Data Services Server</h2>

<p>Agora que temos o componente corrigido e devidamente compilado, vamos copiá-lo
para a instância do WSO2 Data Services Server (levando em consideração que
minha instalação fica em ~/Applications/wso2/wso2dataservices-2.5.0).</p>

<pre><code>cp org.wso2.carbon.dataservices.core/3.0.0/target/org.wso2.carbon.dataservices.core-3.0.0.jar ~/Applications/wso2/wso2dataservices-2.5.0/wso2dataservices-2.5.0/repository/components/plugins/org.wso2.carbon.dataservices.core-3.0.0.jar
cp org.wso2.carbon.dataservices.ui/3.0.0/target/org.wso2.carbon.dataservices.ui-3.0.0.jar ~/Applications/wso2/wso2dataservices-2.5.0/wso2dataservices-2.5.0/repository/components/plugins/org.wso2.carbon.dataservices.ui-3.0.0.jar
</code></pre>

<h2>Conclusão</h2>

<p>Com o <em>patch</em> criado, testado e aplicado. Abrimos um <a href="https://wso2.org/jira/browse/CARBON-7589">pedido de correção no JIRA do WSO2</a>, para que eles possam
corrigir na próxima <em>release</em> (provavelmente a 2.5.1). Caso você não tenha
disponibilidade (de tempo ou paciência), pode baixar os componente do WSO2
Data Services Server corrigido (bastando apenas descompactá-los).</p>

<ul>
<li><a href="/wp-content/uploads/2010/06/carbon-dataservices-core-3.0.0.tar.gz">org.wso2.carbon.dataservices.core-3.0.0.jar</a></li>
<li><a href="/wp-content/uploads/2010/06/carbon-dataservices-ui-3.0.0.tar.gz">org.wso2.carbon.dataservices.ui-3.0.0.jar</a></li>
</ul>


<p>E tenho que falar, viva o código aberto e o software livre! (;</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/09/8o-solisc-nos-vemos-la/">8º SoLiSC - Nos vemos lá</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/lancado-wso2-user-engagement-server-1-0-0/">Lançado: WSO2 User Engagement Server - 1.0.0!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/nos-no-fisl-14/">Nós no FISL14</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/participaremos-do-fisl-14/">Participaremos do FISL 14</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/agendamento-de-tarefas-na-wso2-enterprise-service-bus/">Agendamento de tarefas na WSO2 Enterprise Service Bus</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categorias/arquitetura'>arquitetura (8)</a></li><li><a href='/blog/categorias/avisos'>avisos (3)</a></li><li><a href='/blog/categorias/desenvolvimento'>desenvolvimento (29)</a></li><li><a href='/blog/categorias/eventos'>eventos (6)</a></li></ul>
</section>
<section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/blog/tags/business-process' style='font-size: 104.28571428571429%'>business process(3)</a> <a href='/blog/tags/application-server' style='font-size: 107.14285714285714%'>application server(5)</a> <a href='/blog/tags/wso2-carbon' style='font-size: 110.0%'>wso2 carbon(7)</a> <a href='/blog/tags/wsas' style='font-size: 107.14285714285714%'>wsas(5)</a> <a href='/blog/tags/data-services' style='font-size: 128.57142857142858%'>data services(20)</a> <a href='/blog/tags/codigo-aberto' style='font-size: 108.57142857142857%'>código aberto(6)</a> <a href='/blog/tags/soa' style='font-size: 108.57142857142857%'>soa(6)</a> <a href='/blog/tags/wso2' style='font-size: 160.0%'>wso2(42)</a> <a href='/blog/tags/stratos' style='font-size: 104.28571428571429%'>stratos(3)</a> <a href='/blog/tags/identity' style='font-size: 105.71428571428571%'>identity(4)</a> <a href='/blog/tags/instalacao' style='font-size: 104.28571428571429%'>instalação(3)</a> <a href='/blog/tags/enterprise-service-bus' style='font-size: 112.85714285714286%'>enterprise service bus(9)</a> <a href='/blog/tags/software-livre' style='font-size: 108.57142857142857%'>software livre(6)</a> <a href='/blog/tags/eclipse' style='font-size: 107.14285714285714%'>eclipse(5)</a> <a href='/blog/tags/dss' style='font-size: 130.0%'>dss(21)</a> <a href='/blog/tags/esb' style='font-size: 118.57142857142857%'>esb(13)</a> <a href='/blog/tags/carbon' style='font-size: 107.14285714285714%'>carbon(5)</a> <a href='/blog/tags/web-services-application' style='font-size: 104.28571428571429%'>web services application(3)</a> <a href='/blog/tags/bam' style='font-size: 105.71428571428571%'>bam(4)</a> <a href='/blog/tags/lancamento' style='font-size: 107.14285714285714%'>lançamento(5)</a> </span>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("wso2brasil", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/wso2brasil" class="twitter-follow-button" data-show-count="false">Follow @wso2brasil</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/wso2brasil">@wso2brasil</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'wso2brasil',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - WSO2Brasil -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'wso2brasil';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
